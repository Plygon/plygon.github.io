/*! For license information please see main.js.LICENSE.txt */
(()=>{var __webpack_modules__={415:t=>{t.exports='<div class="ode">\r\n    <style>\r\n        .ode__static {\r\n            margin: 0;\r\n            padding: 0;\r\n            flex: 1;\r\n            min-width: 0;\r\n            width: 100%;\r\n        }\r\n\r\n        .ode__right {\r\n            align-self: right;\r\n            display: flex;\r\n            flex-direction: row;\r\n        }\r\n\r\n        .mq-editable-field.borderless-math-field {\r\n            border: none;\r\n        }\r\n        .borderless-math-field .mq-empty.mq-root-block {\r\n            background-color: rgb(215, 215, 223);\r\n        }\r\n        .main-math-field {\r\n            width: 100%;\r\n        }\r\n\r\n        .ode .vertical-division {\r\n            margin-right: 4px;\r\n            width: 3px;\r\n            background-color: var(--highlight-color);\r\n        }\r\n\r\n\r\n        .ode.selected {\r\n            background-color: #e1e1f3;\r\n        }\r\n    </style>\r\n\r\n    <div style="display: flex; flex-direction: column; justify-content: center; flex: 1; min-width: 0; overflow: hidden;">\r\n        <div>\r\n            <span class="ode__static">\\MathQuillMathField{}\'=\\MathQuillMathField{}</span>\r\n        </div>\r\n    </div>\r\n    <div class="vertical-division"></div>\r\n\r\n    <div class="ode__right">\r\n        <div style="display: flex; flex-direction: column; justify-content: center; flex: 1; min-width: 0;">\r\n            <div style="white-space: nowrap;">\r\n                <span class="ode__ivc-descriptor"></span><span class="ode__ivc-box"></span>\r\n            </div>\r\n        </div>\r\n        <div style="display: flex; flex-direction: column; justify-content: center;">\r\n            <div class="remove-button">\r\n                ×\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},117:t=>{t.exports='<div class="color-picker nonexistent">\r\n</div>'},867:t=>{t.exports='<div class="parametric">\r\n    x: <input type="text" autocomplete="off" size=2 id="parametric__x-box"> y: <input type="text" autocomplete="off" size=2 id="parametric__y-box">\r\n\r\n    <button class="color-button">Color</button>\r\n\r\n    <br>\r\n    Timestep: <input type="text" autocomplete="off" size=2 class="parametric__step-box" value="0.1">\r\n    Algorithm:<select>\r\n        <option value="RK4">Runge-Kutta 4th Order</option>\r\n        <option value="AB4">Adams-Bashforth 4th Order</option>\r\n        <option value="AB5">Adams-Bashforth 5th Order</option>\r\n        <option value="AM3">Adams-Moulton 3rd Order</option>\r\n        <option value="AM4">Adams-Moulton 4th Order</option>\r\n        <option value="euler">Euler\'s Method</option>\r\n    </select>\r\n    Iterations: <input type="text" autocomplete="off" size=2 class="parametric__iterations-box" value="1000">\r\n\r\n    <div style="float: right;">\r\n        <div class="remove-button">\r\n            ×\r\n        </div>\r\n    </div>\r\n</div>'},755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var s=[],o=i.document,a=Object.getPrototypeOf,c=s.slice,l=s.concat,u=s.push,h=s.indexOf,d={},f=d.toString,p=d.hasOwnProperty,m=p.toString,g=m.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,r,s=(n=n||o).createElement("script");if(s.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&s.setAttribute(i,r);n.head.appendChild(s).parentNode.removeChild(s)}function T(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t}var _="3.4.1",C=function(t,e){return new C.fn.init(t,e)},O=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(t){var e=!!t&&"length"in t&&t.length,n=T(t);return!y(t)&&!x(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:_,constructor:C,length:0,toArray:function(){return c.call(this)},get:function(t){return null==t?c.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},C.extend=C.fn.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||y(o)||(o={}),a===c&&(o=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&o!==i&&(l&&i&&(C.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[e],s=r&&!Array.isArray(n)?[]:r||C.isPlainObject(n)?n:{},r=!1,o[e]=C.extend(l,s,i)):void 0!==i&&(o[e]=i));return o},C.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t)||(e=a(t))&&("function"!=typeof(n=p.call(e,"constructor")&&e.constructor)||m.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){w(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(k(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(O,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(k(Object(t))?C.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,s=t.length,o=!n;r<s;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,s=0,o=[];if(k(t))for(i=t.length;s<i;s++)null!=(r=e(t[s],s,n))&&o.push(r);else for(s in t)null!=(r=e(t[s],s,n))&&o.push(r);return l.apply([],o)},guid:1,support:v}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=s[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var q=function(t){var e,n,i,r,s,o,a,c,l,u,h,d,f,p,m,g,v,y,x,b="sizzle"+1*new Date,w=t.document,T=0,_=0,C=ct(),O=ct(),k=ct(),q=ct(),E=function(t,e){return t===e&&(h=!0),0},S={}.hasOwnProperty,M=[],L=M.pop,D=M.push,A=M.push,j=M.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",Q="\\["+I+"*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",B=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",F=new RegExp(I+"+","g"),z=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),H=new RegExp("^"+I+"*,"+I+"*"),U=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),W=new RegExp(I+"|>"),$=new RegExp(B),X=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},V=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=function(){d()},ot=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{A.apply(M=j.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(t){A={apply:M.length?function(t,e){D.apply(t,j.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var s,a,l,u,h,p,v,y=e&&e.ownerDocument,T=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==T&&9!==T&&11!==T)return i;if(!r&&((e?e.ownerDocument||e:w)!==f&&d(e),e=e||f,m)){if(11!==T&&(h=J.exec(t)))if(s=h[1]){if(9===T){if(!(l=e.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(y&&(l=y.getElementById(s))&&x(e,l)&&l.id===s)return i.push(l),i}else{if(h[2])return A.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!q[t+" "]&&(!g||!g.test(t))&&(1!==T||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===T&&W.test(t)){for((u=e.getAttribute("id"))?u=u.replace(it,rt):e.setAttribute("id",u=b),a=(p=o(t)).length;a--;)p[a]="#"+u+" "+xt(p[a]);v=p.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return A.apply(i,y.querySelectorAll(v)),i}catch(e){q(t,!0)}finally{u===b&&e.removeAttribute("id")}}}return c(t.replace(z,"$1"),e,i,r)}function ct(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function lt(t){return t[b]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!V.test(e||n&&n.nodeName||"HTML")},d=at.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;return o!==f&&9===o.nodeType&&o.documentElement?(p=(f=o).documentElement,m=!s(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",st,!1):r.attachEvent&&r.attachEvent("onunload",st)),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=G.test(f.getElementsByClassName),n.getById=ut((function(t){return p.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,s=e.getElementById(t);if(s){if((n=s.getAttributeNode("id"))&&n.value===t)return[s];for(r=e.getElementsByName(t),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=G.test(f.querySelectorAll))&&(ut((function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+I+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+I+"*(?:value|"+P+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+I+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=G.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=G.test(p.compareDocumentPosition),x=e||G.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===w&&x(w,t)?-1:e===f||e.ownerDocument===w&&x(w,e)?1:u?N(u,t)-N(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t===f?-1:e===f?1:r?-1:s?1:u?N(u,t)-N(u,e):0;if(r===s)return dt(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;o[i]===a[i];)i++;return i?dt(o[i],a[i]):o[i]===w?-1:a[i]===w?1:0},f):f},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),n.matchesSelector&&m&&!q[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){q(e,!0)}return at(e,f,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),x(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=i.attrHandle[e.toLowerCase()],s=r&&S.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==s?s:n.attributes||!m?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,s=0;if(h=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(E),h){for(;e=t[s++];)e===t[s]&&(r=i.push(s));for(;r--;)t.splice(i[r],1)}return u=null,t},r=at.getText=function(t){var e,n="",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=at.selectors={cacheLength:50,createPseudo:lt,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&$.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+I+")"+t+"("+I+"|$)"))&&C(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,d,f,p,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!c&&!a,x=!1;if(g){if(s){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(x=(f=(l=(u=(h=(d=g)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===T&&l[1])&&l[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(x=f=0)||p.pop();)if(1===d.nodeType&&++x&&d===e){u[t]=[T,f,x];break}}else if(y&&(x=f=(l=(u=(h=(d=e)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===T&&l[1]),!1===x)for(;(d=++f&&d&&d[m]||(x=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++x||(y&&((u=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[T,x]),d!==e)););return(x-=r)===i||x%i==0&&x/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,s=r(t,e),o=s.length;o--;)t[i=N(t,s[o])]=!(n[i]=s[o])})):function(t){return r(t,0,n)}):r}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(z,"$1"));return i[b]?lt((function(t,e,n,r){for(var s,o=i(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))})):function(t,r,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:lt((function(t){return X.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function yt(){}function xt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,s=r||i,o=n&&"parentNode"===s,a=_++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,c){var l,u,h,d=[T,a];if(c){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(u=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[s])&&l[0]===T&&l[1]===a)return d[2]=l[2];if(u[s]=d,d[2]=t(e,n,c))return!0}return!1}}function wt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Tt(t,e,n,i,r){for(var s,o=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,i,r)||(o.push(s),l&&e.push(a)));return o}function _t(t,e,n,i,r,s){return i&&!i[b]&&(i=_t(i)),r&&!r[b]&&(r=_t(r,s)),lt((function(s,o,a,c){var l,u,h,d=[],f=[],p=o.length,m=s||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),g=!t||!s&&e?m:Tt(m,d,t,a,c),v=n?r||(s?t:p||i)?[]:o:g;if(n&&n(g,v,a,c),i)for(l=Tt(v,f),i(l,[],a,c),u=l.length;u--;)(h=l[u])&&(v[f[u]]=!(g[f[u]]=h));if(s){if(r||t){if(r){for(l=[],u=v.length;u--;)(h=v[u])&&l.push(g[u]=h);r(null,v=[],l,c)}for(u=v.length;u--;)(h=v[u])&&(l=r?N(s,h):d[u])>-1&&(s[l]=!(o[l]=h))}}else v=Tt(v===o?v.splice(p,v.length):v),r?r(null,o,v,c):A.apply(o,v)}))}function Ct(t){for(var e,n,r,s=t.length,o=i.relative[t[0].type],a=o||i.relative[" "],c=o?1:0,u=bt((function(t){return t===e}),a,!0),h=bt((function(t){return N(e,t)>-1}),a,!0),d=[function(t,n,i){var r=!o&&(i||n!==l)||((e=n).nodeType?u(t,n,i):h(t,n,i));return e=null,r}];c<s;c++)if(n=i.relative[t[c].type])d=[bt(wt(d),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[b]){for(r=++c;r<s&&!i.relative[t[r].type];r++);return _t(c>1&&wt(d),c>1&&xt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(z,"$1"),n,c<r&&Ct(t.slice(c,r)),r<s&&Ct(t=t.slice(r)),r<s&&xt(t))}d.push(n)}return wt(d)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,o=at.tokenize=function(t,e){var n,r,s,o,a,c,l,u=O[t+" "];if(u)return e?0:u.slice(0);for(a=t,c=[],l=i.preFilter;a;){for(o in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(s=[])),n=!1,(r=U.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length)),i.filter)!(r=Y[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):O(t,c).slice(0)},a=at.compile=function(t,e){var n,r=[],s=[],a=k[t+" "];if(!a){for(e||(e=o(t)),n=e.length;n--;)(a=Ct(e[n]))[b]?r.push(a):s.push(a);a=k(t,function(t,e){var n=e.length>0,r=t.length>0,s=function(s,o,a,c,u){var h,p,g,v=0,y="0",x=s&&[],b=[],w=l,_=s||r&&i.find.TAG("*",u),C=T+=null==w?1:Math.random()||.1,O=_.length;for(u&&(l=o===f||o||u);y!==O&&null!=(h=_[y]);y++){if(r&&h){for(p=0,o||h.ownerDocument===f||(d(h),a=!m);g=t[p++];)if(g(h,o||f,a)){c.push(h);break}u&&(T=C)}n&&((h=!g&&h)&&v--,s&&x.push(h))}if(v+=y,n&&y!==v){for(p=0;g=e[p++];)g(x,b,o,a);if(s){if(v>0)for(;y--;)x[y]||b[y]||(b[y]=L.call(c));b=Tt(b)}A.apply(c,b),u&&!s&&b.length>0&&v+e.length>1&&at.uniqueSort(c)}return u&&(T=C,l=w),x};return n?lt(s):s}(s,r)),a.selector=t}return a},c=at.select=function(t,e,n,r){var s,c,l,u,h,d="function"==typeof t&&t,f=!r&&o(t=d.selector||t);if(n=n||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===e.nodeType&&m&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=Y.needsContext.test(t)?0:c.length;s--&&(l=c[s],!i.relative[u=l.type]);)if((h=i.find[u])&&(r=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&vt(e.parentNode)||e))){if(c.splice(s,1),!(t=r.length&&xt(c)))return A.apply(n,r),n;break}}return(d||a(t,f))(r,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(E).join("")===b,n.detectDuplicates=!!h,d(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||ht(P,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(i);C.find=q,C.expr=q.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=q.uniqueSort,C.text=q.getText,C.isXMLDoc=q.isXML,C.contains=q.contains,C.escapeSelector=q.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&C(t).is(n))break;i.push(t)}return i},S=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},M=C.expr.match.needsContext;function L(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,n){return y(e)?C.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?C.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?C.grep(t,(function(t){return h.call(e,t)>-1!==n})):C.filter(e,t,n)}C.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<i;e++)if(C.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)C.find(t,r[e],n);return i>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&M.test(t)?C(t):t||[],!1).length}});var j,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||j,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:o,!0)),D.test(i[1])&&C.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=o.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,j=C(o);var P=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,s=[],o="string"!=typeof t&&C(t);if(!M.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?h.call(C(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(L(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(n,i){var r=C.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=C.filter(i,r)),this.length>1&&(I[t]||C.uniqueSort(r),P.test(t)&&r.reverse()),this.pushStack(r)}}));var Q=/[^\x20\t\r\n\f]+/g;function B(t){return t}function F(t){throw t}function z(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(Q)||[],(function(t,n){e[n]=!0})),e}(t):C.extend({},t);var e,n,i,r,s=[],o=[],a=-1,c=function(){for(r=r||t.once,i=e=!0;o.length;a=-1)for(n=o.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,o.push(n)),function e(n){C.each(n,(function(n,i){y(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&"string"!==T(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return C.each(arguments,(function(t,e){for(var n;(n=C.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?C.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=o=[],n||e||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(n){C.each(e,(function(e,i){var r=y(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var s=0;function o(t,e,n,r){return function(){var a=this,c=arguments,l=function(){var i,l;if(!(t<s)){if((i=n.apply(a,c))===e.promise())throw new TypeError("Thenable self-resolution");l=i&&("object"==typeof i||"function"==typeof i)&&i.then,y(l)?r?l.call(i,o(s,e,B,r),o(s,e,F,r)):(s++,l.call(i,o(s,e,B,r),o(s,e,F,r),o(s,e,B,e.notifyWith))):(n!==B&&(a=void 0,c=[i]),(r||e.resolveWith)(a,c))}},u=r?l:function(){try{l()}catch(i){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(i,u.stackTrace),t+1>=s&&(n!==F&&(a=void 0,c=[i]),e.rejectWith(a,c))}};t?u():(C.Deferred.getStackHook&&(u.stackTrace=C.Deferred.getStackHook()),i.setTimeout(u))}}return C.Deferred((function(i){e[0][3].add(o(0,i,y(r)?r:B,i.notifyWith)),e[1][3].add(o(0,i,y(t)?t:B)),e[2][3].add(o(0,i,y(n)?n:F))})).promise()},promise:function(t){return null!=t?C.extend(t,r):r}},s={};return C.each(e,(function(t,i){var o=i[2],a=i[5];r[i[1]]=o.add,a&&o.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=o.fireWith})),r.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),r=c.call(arguments),s=C.Deferred(),o=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?c.call(arguments):n,--e||s.resolveWith(i,r)}};if(e<=1&&(z(t,s.done(o(n)).resolve,s.reject,!e),"pending"===s.state()||y(r[n]&&r[n].then)))return s.then();for(;n--;)z(r[n],o(n),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&H.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){i.setTimeout((function(){throw t}))};var U=C.Deferred();function W(){o.removeEventListener("DOMContentLoaded",W),i.removeEventListener("load",W),C.ready()}C.fn.ready=function(t){return U.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||U.resolveWith(o,[C]))}}),C.ready.then=U.then,"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?i.setTimeout(C.ready):(o.addEventListener("DOMContentLoaded",W),i.addEventListener("load",W));var $=function(t,e,n,i,r,s,o){var a=0,c=t.length,l=null==n;if("object"===T(n))for(a in r=!0,n)$(t,e,a,n[a],!0,s,o);else if(void 0!==i&&(r=!0,y(i)||(o=!0),l&&(o?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(C(t),n)})),e))for(;a<c;a++)e(t[a],n,o?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):c?e(t[0],n):s},X=/^-ms-/,Y=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function Z(t){return t.replace(X,"ms-").replace(Y,V)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function G(){this.expando=C.expando+G.uid++}G.uid=1,G.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Z(e)]=n;else for(i in e)r[Z(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in i?[e]:e.match(Q)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var J=new G,tt=new G,et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nt=/[A-Z]/g;function it(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(nt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:et.test(t)?JSON.parse(t):t)}(n)}catch(t){}tt.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return tt.hasData(t)||J.hasData(t)},data:function(t,e,n){return tt.access(t,e,n)},removeData:function(t,e){tt.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=tt.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=Z(i.slice(5)),it(s,i,r[i]));J.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){tt.set(this,t)})):$(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=tt.get(s,t))||void 0!==(n=it(s,t))?n:void 0;this.each((function(){tt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){tt.remove(this,t)}))}}),C.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),i=n.length,r=n.shift(),s=C._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,(function(){C.dequeue(t,e)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:C.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",n])}))})}}),C.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each((function(){var n=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=C.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=J.get(s[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=o.documentElement,ct=function(t){return C.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(ct=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ct(t)&&"none"===C.css(t,"display")},ht=function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];for(s in r=n.apply(t,i||[]),e)t.style[s]=o[s];return r};function dt(t,e,n,i){var r,s,o=20,a=i?function(){return i.cur()}:function(){return C.css(t,e,"")},c=a(),l=n&&n[3]||(C.cssNumber[e]?"":"px"),u=t.nodeType&&(C.cssNumber[e]||"px"!==l&&+c)&&st.exec(C.css(t,e));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;o--;)C.style(t,e,u+l),(1-s)*(1-(s=a()/c||.5))<=0&&(o=0),u/=s;u*=2,C.style(t,e,u+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var ft={};function pt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ft[i];return r||(e=n.body.appendChild(n.createElement(i)),r=C.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ft[i]=r,r)}function mt(t,e){for(var n,i,r=[],s=0,o=t.length;s<o;s++)(i=t[s]).style&&(n=i.style.display,e?("none"===n&&(r[s]=J.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&ut(i)&&(r[s]=pt(i))):"none"!==n&&(r[s]="none",J.set(i,"display",n)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}C.fn.extend({show:function(){return mt(this,!0)},hide:function(){return mt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?C(this).show():C(this).hide()}))}});var gt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i,xt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&L(t,e)?C.merge([t],n):n}function wt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}xt.optgroup=xt.option,xt.tbody=xt.tfoot=xt.colgroup=xt.caption=xt.thead,xt.th=xt.td;var Tt,_t,Ct=/<|&#?\w+;/;function Ot(t,e,n,i,r){for(var s,o,a,c,l,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((s=t[f])||0===s)if("object"===T(s))C.merge(d,s.nodeType?[s]:s);else if(Ct.test(s)){for(o=o||h.appendChild(e.createElement("div")),a=(vt.exec(s)||["",""])[1].toLowerCase(),c=xt[a]||xt._default,o.innerHTML=c[1]+C.htmlPrefilter(s)+c[2],u=c[0];u--;)o=o.lastChild;C.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(e.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(i&&C.inArray(s,i)>-1)r&&r.push(s);else if(l=ct(s),o=bt(h.appendChild(s),"script"),l&&wt(o),n)for(u=0;s=o[u++];)yt.test(s.type||"")&&n.push(s);return h}Tt=o.createDocumentFragment().appendChild(o.createElement("div")),(_t=o.createElement("input")).setAttribute("type","radio"),_t.setAttribute("checked","checked"),_t.setAttribute("name","t"),Tt.appendChild(_t),v.checkClone=Tt.cloneNode(!0).cloneNode(!0).lastChild.checked,Tt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Tt.cloneNode(!0).lastChild.defaultValue;var kt=/^key/,qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Mt(){return!1}function Lt(t,e){return t===function(){try{return o.activeElement}catch(t){}}()==("focus"===e)}function Dt(t,e,n,i,r,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Dt(t,a,n,i,e[a],s);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Mt;else if(!r)return t;return 1===s&&(o=r,r=function(t){return C().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=C.guid++)),t.each((function(){C.event.add(this,e,r,i,n)}))}function At(t,e,n){n?(J.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var i,r,s=J.get(this,e);if(1&t.isTrigger&&this[e]){if(s.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(s=c.call(arguments),J.set(this,e,s),i=n(this,e),this[e](),s!==(r=J.get(this,e))||i?J.set(this,e,!1):r={},s!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else s.length&&(J.set(this,e,{value:C.event.trigger(C.extend(s[0],C.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&C.event.add(t,e,St)}C.event={global:{},add:function(t,e,n,i,r){var s,o,a,c,l,u,h,d,f,p,m,g=J.get(t);if(g)for(n.handler&&(n=(s=n).handler,r=s.selector),r&&C.find.matchesSelector(at,r),n.guid||(n.guid=C.guid++),(c=g.events)||(c=g.events={}),(o=g.handle)||(o=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(Q)||[""]).length;l--;)f=m=(a=Et.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=C.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=C.event.special[f]||{},u=C.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,o)||t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),C.event.global[f]=!0)},remove:function(t,e,n,i,r){var s,o,a,c,l,u,h,d,f,p,m,g=J.hasData(t)&&J.get(t);if(g&&(c=g.events)){for(l=(e=(e||"").match(Q)||[""]).length;l--;)if(f=m=(a=Et.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=C.event.special[f]||{},d=c[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||C.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)C.event.remove(t,f+e[l],n,i,!0);C.isEmptyObject(c)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,s,o,a=C.event.fix(t),c=new Array(arguments.length),l=(J.get(this,"events")||{})[a.type]||[],u=C.event.special[a.type]||{};for(c[0]=a,e=1;e<arguments.length;e++)c[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(o=C.event.handlers.call(this,a,l),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==s.namespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(i=((C.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,c))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,s,o,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(s=[],o={},n=0;n<c;n++)void 0===o[r=(i=e[n]).selector+" "]&&(o[r]=i.needsContext?C(r,this).index(l)>-1:C.find(r,this,null,[l]).length),o[r]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&L(e,"input")&&At(e,"click",St),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&L(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&L(e,"input")&&J.get(e,"click")||L(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Mt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Mt,isPropagationStopped:Mt,isImmediatePropagationStopped:Mt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(t,e){C.event.special[t]={setup:function(){return At(this,t,Lt),!1},trigger:function(){return At(this,t),!0},delegateType:e}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===i||C.contains(i,r))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),C.fn.extend({on:function(t,e,n,i){return Dt(this,t,e,n,i)},one:function(t,e,n,i){return Dt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Mt),this.each((function(){C.event.remove(this,t,n,e)}))}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){return L(t,"table")&&L(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function Qt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,i,r,s,o,a,c,l;if(1===e.nodeType){if(J.hasData(t)&&(s=J.access(t),o=J.set(e,s),l=s.events))for(r in delete o.handle,o.events={},l)for(n=0,i=l[r].length;n<i;n++)C.event.add(e,r,l[r][n]);tt.hasData(t)&&(a=tt.access(t),c=C.extend({},a),tt.set(e,c))}}function zt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ht(t,e,n,i){e=l.apply([],e);var r,s,o,a,c,u,h=0,d=t.length,f=d-1,p=e[0],m=y(p);if(m||d>1&&"string"==typeof p&&!v.checkClone&&Pt.test(p))return t.each((function(r){var s=t.eq(r);m&&(e[0]=p.call(this,r,s.html())),Ht(s,e,n,i)}));if(d&&(s=(r=Ot(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(a=(o=C.map(bt(r,"script"),Qt)).length;h<d;h++)c=r,h!==f&&(c=C.clone(c,!0,!0),a&&C.merge(o,bt(c,"script"))),n.call(t[h],c,h);if(a)for(u=o[o.length-1].ownerDocument,C.map(o,Bt),h=0;h<a;h++)c=o[h],yt.test(c.type||"")&&!J.access(c,"globalEval")&&C.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):w(c.textContent.replace(It,""),c,u))}return t}function Ut(t,e,n){for(var i,r=e?C.filter(e,t):t,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||C.cleanData(bt(i)),i.parentNode&&(n&&ct(i)&&wt(bt(i,"script")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t.replace(jt,"<$1></$2>")},clone:function(t,e,n){var i,r,s,o,a=t.cloneNode(!0),c=ct(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(o=bt(a),i=0,r=(s=bt(t)).length;i<r;i++)zt(s[i],o[i]);if(e)if(n)for(s=s||bt(t),o=o||bt(a),i=0,r=s.length;i<r;i++)Ft(s[i],o[i]);else Ft(t,a);return(o=bt(a,"script")).length>0&&wt(o,!c&&bt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=C.event.special,s=0;void 0!==(n=t[s]);s++)if(K(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[tt.expando]&&(n[tt.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return $(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ht(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Rt(this,t).appendChild(t)}))},prepend:function(){return Ht(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ht(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ht(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return $(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!xt[(vt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ht(this,arguments,(function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){C.fn[t]=function(t){for(var n,i=[],r=C(t),s=r.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),C(r[o])[e](n),u.apply(i,n.get());return this.pushStack(i)}}));var Wt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),$t=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Xt=new RegExp(ot.join("|"),"i");function Yt(t,e,n){var i,r,s,o,a=t.style;return(n=n||$t(t))&&(""!==(o=n.getPropertyValue(e)||n[e])||ct(t)||(o=C.style(t,e)),!v.pixelBoxStyles()&&Wt.test(o)&&Xt.test(e)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(l).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,c=12===e(t.marginLeft),u.style.right="60%",a=36===e(t.right),r=36===e(t.width),u.style.position="absolute",s=12===e(u.offsetWidth/3),at.removeChild(l),u=null}}function e(t){return Math.round(parseFloat(t))}var n,r,s,a,c,l=o.createElement("div"),u=o.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,C.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),s}}))}();var Zt=["Webkit","Moz","ms"],Kt=o.createElement("div").style,Gt={};function Jt(t){return C.cssProps[t]||Gt[t]||(t in Kt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Zt.length;n--;)if((t=Zt[n]+e)in Kt)return t}(t)||t)}var te=/^(none|table(?!-c[ea]).+)/,ee=/^--/,ne={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"};function re(t,e,n){var i=st.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function se(t,e,n,i,r,s){var o="width"===e?1:0,a=0,c=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=C.css(t,n+ot[o],!0,r)),i?("content"===n&&(c-=C.css(t,"padding"+ot[o],!0,r)),"margin"!==n&&(c-=C.css(t,"border"+ot[o]+"Width",!0,r))):(c+=C.css(t,"padding"+ot[o],!0,r),"padding"!==n?c+=C.css(t,"border"+ot[o]+"Width",!0,r):a+=C.css(t,"border"+ot[o]+"Width",!0,r));return!i&&s>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function oe(t,e,n){var i=$t(t),r=(!v.boxSizingReliable()||n)&&"border-box"===C.css(t,"boxSizing",!1,i),s=r,o=Yt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Wt.test(o)){if(!n)return o;o="auto"}return(!v.boxSizingReliable()&&r||"auto"===o||!parseFloat(o)&&"inline"===C.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===C.css(t,"boxSizing",!1,i),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+se(t,e,n||(r?"border":"content"),s,i,o)+"px"}function ae(t,e,n,i,r){return new ae.prototype.init(t,e,n,i,r)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Yt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=Z(e),c=ee.test(e),l=t.style;if(c||(e=Jt(a)),o=C.cssHooks[e]||C.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e];"string"==(s=typeof n)&&(r=st.exec(n))&&r[1]&&(n=dt(t,e,r),s="number"),null!=n&&n==n&&("number"!==s||c||(n+=r&&r[3]||(C.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,s,o,a=Z(e);return ee.test(e)||(e=Jt(a)),(o=C.cssHooks[e]||C.cssHooks[a])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Yt(t,e,i)),"normal"===r&&e in ie&&(r=ie[e]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),C.each(["height","width"],(function(t,e){C.cssHooks[e]={get:function(t,n,i){if(n)return!te.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?oe(t,e,i):ht(t,ne,(function(){return oe(t,e,i)}))},set:function(t,n,i){var r,s=$t(t),o=!v.scrollboxSize()&&"absolute"===s.position,a=(o||i)&&"border-box"===C.css(t,"boxSizing",!1,s),c=i?se(t,e,i,a,s):0;return a&&o&&(c-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-se(t,e,"border",!1,s)-.5)),c&&(r=st.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=C.css(t,e)),re(0,n,c)}}})),C.cssHooks.marginLeft=Vt(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Yt(t,"marginLeft"))||t.getBoundingClientRect().left-ht(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(t,e){C.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=s[i]||s[i-2]||s[0];return r}},"margin"!==t&&(C.cssHooks[t+e].set=re)})),C.fn.extend({css:function(t,e){return $(this,(function(t,e,n){var i,r,s={},o=0;if(Array.isArray(e)){for(i=$t(t),r=e.length;o<r;o++)s[e[o]]=C.css(t,e[o],!1,i);return s}return void 0!==n?C.style(t,e,n):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=ae,ae.prototype={constructor:ae,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(C.cssNumber[n]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return t&&t.get?t.get(this):ae.propHooks._default.get(this)},run:function(t){var e,n=ae.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ae.propHooks._default.set(this),this}},ae.prototype.init.prototype=ae.prototype,ae.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},ae.propHooks.scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=ae.prototype.init,C.fx.step={};var ce,le,ue=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function de(){le&&(!1===o.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(de):i.setTimeout(de,C.fx.interval),C.fx.tick())}function fe(){return i.setTimeout((function(){ce=void 0})),ce=Date.now()}function pe(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function me(t,e,n){for(var i,r=(ge.tweeners[e]||[]).concat(ge.tweeners["*"]),s=0,o=r.length;s<o;s++)if(i=r[s].call(n,e,t))return i}function ge(t,e,n){var i,r,s=0,o=ge.prefilters.length,a=C.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var e=ce||fe(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),s=0,o=l.tweens.length;s<o;s++)l.tweens[s].run(i);return a.notifyWith(t,[l,i,n]),i<1&&o?n:(o||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:ce||fe(),duration:n.duration,tweens:[],createTween:function(e,n){var i=C.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for(function(t,e){var n,i,r,s,o;for(n in t)if(r=e[i=Z(n)],s=t[n],Array.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(o=C.cssHooks[i])&&"expand"in o)for(n in s=o.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=r);else e[i]=r}(u,l.opts.specialEasing);s<o;s++)if(i=ge.prefilters[s].call(l,t,u,l.opts))return y(i.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return C.map(u,me,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(ge,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return dt(n.elem,t,st.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(Q);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ge.tweeners[n]=ge.tweeners[n]||[],ge.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,s,o,a,c,l,u,h="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&ut(t),g=J.get(t,"fxshow");for(i in n.queue||(null==(o=C._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,C.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[i],ue.test(r)){if(delete e[i],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||C.style(t,i)}if((c=!C.isEmptyObject(e))||!C.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=J.get(t,"display")),"none"===(u=C.css(t,"display"))&&(l?u=l:(mt([t],!0),l=t.style.display||l,u=C.css(t,"display"),mt([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===C.css(t,"float")&&(c||(d.done((function(){p.display=l})),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),c=!1,f)c||(g?"hidden"in g&&(m=g.hidden):g=J.access(t,"fxshow",{display:l}),s&&(g.hidden=!m),m&&mt([t],!0),d.done((function(){for(i in m||mt([t]),J.remove(t,"fxshow"),f)C.style(t,i,f[i])}))),c=me(m?g[i]:0,i,d),i in g||(g[i]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?ge.prefilters.unshift(t):ge.prefilters.push(t)}}),C.speed=function(t,e,n){var i=t&&"object"==typeof t?C.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=C.isEmptyObject(t),s=C.speed(e,n,i),o=function(){var e=ge(this,C.extend({},t),s);(r||J.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",s=C.timers,o=J.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&he.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));!e&&n||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=C.timers,o=i?i.length:0;for(n.finish=!0,C.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(t,e){var n=C.fn[e];C.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(pe(e,!0),t,i,r)}})),C.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){C.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(ce=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),ce=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){le||(le=!0,de())},C.fx.stop=function(){le=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=o.createElement("input"),e=o.createElement("select").appendChild(o.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=o.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ve,ye=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return $(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?C.prop(t,e,n):(1===s&&C.isXMLDoc(t)||(r=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ve:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&L(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Q);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ve={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ye[e]||C.find.attr;ye[e]=function(t,e,i){var r,s,o=e.toLowerCase();return i||(s=ye[o],ye[o]=r,r=null!=n(t,e,i)?o:null,ye[o]=s),r}}));var xe=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;function we(t){return(t.match(Q)||[]).join(" ")}function Te(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Q)||[]}C.fn.extend({prop:function(t,e){return $(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&C.isXMLDoc(t)||(e=C.propFix[e]||e,r=C.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):xe.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,n,i,r,s,o,a,c=0;if(y(t))return this.each((function(e){C(this).addClass(t.call(this,e,Te(this)))}));if((e=_e(t)).length)for(;n=this[c++];)if(r=Te(n),i=1===n.nodeType&&" "+we(r)+" "){for(o=0;s=e[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r!==(a=we(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,s,o,a,c=0;if(y(t))return this.each((function(e){C(this).removeClass(t.call(this,e,Te(this)))}));if(!arguments.length)return this.attr("class","");if((e=_e(t)).length)for(;n=this[c++];)if(r=Te(n),i=1===n.nodeType&&" "+we(r)+" "){for(o=0;s=e[o++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");r!==(a=we(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each((function(n){C(this).toggleClass(t.call(this,n,Te(this),e),e)})):this.each((function(){var e,r,s,o;if(i)for(r=0,s=C(this),o=_e(t);e=o[r++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==n||((e=Te(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+we(Te(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ce=/\r/g;C.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,C(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=C.map(r,(function(t){return null==t?"":t+""}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ce,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:we(C.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],c=o?s+1:r.length;for(i=s<0?c:o?s:0;i<c;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(e=C(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,s=C.makeArray(e),o=r.length;o--;)((i=r[o]).selected=C.inArray(C.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},v.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in i;var Oe=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,n,r){var s,a,c,l,u,h,d,f,m=[n||o],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(a=f=c=n=n||o,3!==n.nodeType&&8!==n.nodeType&&!Oe.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[C.expando]?t:new C.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:C.makeArray(e,[t]),d=C.event.special[g]||{},r||!d.trigger||!1!==d.trigger.apply(n,e))){if(!r&&!d.noBubble&&!x(n)){for(l=d.delegateType||g,Oe.test(l+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),c=a;c===(n.ownerDocument||o)&&m.push(c.defaultView||c.parentWindow||i)}for(s=0;(a=m[s++])&&!t.isPropagationStopped();)f=a,t.type=s>1?l:d.bindType||g,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=u&&a[u])&&h.apply&&K(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),e)||!K(n)||u&&y(n[g])&&!x(n)&&((c=n[u])&&(n[u]=null),C.event.triggered=g,t.isPropagationStopped()&&f.addEventListener(g,ke),n[g](),t.isPropagationStopped()&&f.removeEventListener(g,ke),C.event.triggered=void 0,c&&(n[u]=c)),t.result}},simulate:function(t,e,n){var i=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),v.focusin||C.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}}));var qe=i.location,Ee=Date.now(),Se=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var Me=/\[\]$/,Le=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function je(t,e,n,i){var r;if(Array.isArray(e))C.each(e,(function(e,r){n||Me.test(t)?i(t,r):je(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==T(e))i(t,e);else for(r in e)je(t+"["+r+"]",e[r],n,i)}C.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){r(this.name,this.value)}));else for(n in t)je(n,t[n],e,r);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Ae.test(this.nodeName)&&!De.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(t){return{name:e.name,value:t.replace(Le,"\r\n")}})):{name:e.name,value:n.replace(Le,"\r\n")}})).get()}});var Ne=/%20/g,Pe=/#.*$/,Ie=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Qe=/^(?:GET|HEAD)$/,Be=/^\/\//,Fe={},ze={},He="*/".concat("*"),Ue=o.createElement("a");function We(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(Q)||[];if(y(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function $e(t,e,n,i){var r={},s=t===ze;function o(a){var c;return r[a]=!0,C.each(t[a]||[],(function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||r[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),o(l),!1)})),c}return o(e.dataTypes[0])||!r["*"]&&o("*")}function Xe(t,e){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&C.extend(!0,t,i),t}Ue.href=qe.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(qe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,C.ajaxSettings),e):Xe(C.ajaxSettings,t)},ajaxPrefilter:We(Fe),ajaxTransport:We(ze),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,s,a,c,l,u,h,d,f,p=C.ajaxSetup({},e),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),x=p.statusCode||{},b={},w={},T="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Re.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)_.always(t[_.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||T;return n&&n.abort(e),O(0,e),this}};if(v.promise(_),p.url=((t||p.url||qe.href)+"").replace(Be,qe.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Q)||[""],null==p.crossDomain){l=o.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ue.protocol+"//"+Ue.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),$e(Fe,p,e,_),u)return _;for(d in(h=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Qe.test(p.type),r=p.url.replace(Pe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ne,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Se.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ie,"$1"),f=(Se.test(r)?"&":"?")+"_="+Ee+++f),p.url=r+f),p.ifModified&&(C.lastModified[r]&&_.setRequestHeader("If-Modified-Since",C.lastModified[r]),C.etag[r]&&_.setRequestHeader("If-None-Match",C.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+He+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,_,p)||u))return _.abort();if(T="abort",y.add(p.complete),_.done(p.success),_.fail(p.error),n=$e(ze,p,e,_)){if(_.readyState=1,h&&g.trigger("ajaxSend",[_,p]),u)return _;p.async&&p.timeout>0&&(c=i.setTimeout((function(){_.abort("timeout")}),p.timeout));try{u=!1,n.send(b,O)}catch(t){if(u)throw t;O(-1,t)}}else O(-1,"No Transport");function O(t,e,o,a){var l,d,f,b,w,T=e;u||(u=!0,c&&i.clearTimeout(c),n=void 0,s=a||"",_.readyState=t>0?4:0,l=t>=200&&t<300||304===t,o&&(b=function(t,e,n){for(var i,r,s,o,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){c.unshift(r);break}if(c[0]in n)s=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,_,o)),b=function(t,e,n,i){var r,s,o,a,c,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(o=l[c+" "+s]||l["* "+s]))for(r in l)if((a=r.split(" "))[1]===s&&(o=l[c+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[r]:!0!==l[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+c+" to "+s}}}return{state:"success",data:e}}(p,b,_,l),l?(p.ifModified&&((w=_.getResponseHeader("Last-Modified"))&&(C.lastModified[r]=w),(w=_.getResponseHeader("etag"))&&(C.etag[r]=w)),204===t||"HEAD"===p.type?T="nocontent":304===t?T="notmodified":(T=b.state,d=b.data,l=!(f=b.error))):(f=T,!t&&T||(T="error",t<0&&(t=0))),_.status=t,_.statusText=(e||T)+"",l?v.resolveWith(m,[d,T,_]):v.rejectWith(m,[_,T,f]),_.statusCode(x),x=void 0,h&&g.trigger(l?"ajaxSuccess":"ajaxError",[_,p,l?d:f]),y.fireWith(m,[_,T]),h&&(g.trigger("ajaxComplete",[_,p]),--C.active||C.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],(function(t,e){C[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:r,data:n,success:i},C.isPlainObject(t)&&t))}})),C._evalUrl=function(t,e){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){C.globalEval(t,e)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(n){C(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},Ve=C.ajaxSettings.xhr();v.cors=!!Ve&&"withCredentials"in Ve,v.ajax=Ve=!!Ve,C.ajaxTransport((function(t){var e,n;if(v.cors||Ve&&!t.crossDomain)return{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ye[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),C.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=C("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),o.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ze,Ke=[],Ge=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||C.expando+"_"+Ee++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",(function(t,e,n){var r,s,o,a=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ge,"$1"+r):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||C.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=i[r],i[r]=function(){o=arguments},n.always((function(){void 0===s?C(i).removeProp(r):i[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(r)),o&&y(s)&&s(o[0]),o=s=void 0})),"script"})),v.createHTMLDocument=((Ze=o.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ze.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=o.implementation.createHTMLDocument("")).createElement("base")).href=o.location.href,e.head.appendChild(i)):e=o),s=!n&&[],(r=D.exec(t))?[e.createElement(r[1])]:(r=Ot([t],e,s),s&&s.length&&C(s).remove(),C.merge([],r.childNodes)));var i,r,s},C.fn.load=function(t,e,n){var i,r,s,o=this,a=t.indexOf(" ");return a>-1&&(i=we(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&C.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,o.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)})).always(n&&function(t,e){o.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,n){var i,r,s,o,a,c,l=C.css(t,"position"),u=C(t),h={};"static"===l&&(t.style.position="relative"),a=u.offset(),s=C.css(t,"top"),c=C.css(t,"left"),("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(c)||0),y(e)&&(e=e.call(t,n,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+o),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),r.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-C.css(i,"marginTop",!0),left:e.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||at}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;C.fn[t]=function(i){return $(this,(function(t,i,r){var s;if(x(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):t[i]=r}),t,i,arguments.length)}})),C.each(["top","left"],(function(t,e){C.cssHooks[e]=Vt(v.pixelPosition,(function(t,n){if(n)return n=Yt(t,e),Wt.test(n)?C(t).position()[e]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){C.fn[i]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===s?"margin":"border");return $(this,(function(e,n,r){var s;return x(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?C.css(e,n,a):C.style(e,n,r,a)}),e,o?r:void 0,o)}}))})),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),C.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=c.call(arguments,2),r=function(){return t.apply(e||this,i.concat(c.call(arguments)))},r.guid=t.guid=t.guid||C.guid++,r},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=L,C.isFunction=y,C.isWindow=x,C.camelCase=Z,C.type=T,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(n=function(){return C}.apply(e,[]))||(t.exports=n);var Je=i.jQuery,tn=i.$;return C.noConflict=function(t){return i.$===C&&(i.$=tn),t&&i.jQuery===C&&(i.jQuery=Je),C},r||(i.jQuery=i.$=C),C}))},534:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A2:()=>treeToJs,ES:()=>stringToTree,ku:()=>evaluate});var _mathLayer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(700);class Token{constructor(t,e,n=!1,i=0){this.data=t,this.type=e,this.invertible=n,this.singleCharacter=i,this.breakFunctions="+-".includes(t)}}const FUNCTION="function",VARIABLE="variable",OPERATOR="operator",NUMBER="number",OPEN="open",CLOSE="close",NODE="node",SCOPE="scope",MULTIPLY="multiply",DIVIDE="divide",ADD="add",SUBTRACT="subtract",ROOT="root",commandBreakingChars="+-*/=^_\\ {}()[]0123456789.",functions=["sin","cos","tan","csc","sec","cot","arcsin","arccos","arctan","arccsc","arcsec","arccot","sinh","cosh","tanh","csch","sech","coth","arcsinh","arccosh","arctanh","arccsch","arcsech","arccoth","ln","log","exp","sqrt"],invertibleFunctions=["sin","cos","tan","csc","sec","csc","sinh","cosh","tanh","csch","sech","csch"],variables=["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","varphi","chi","psi","omega","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"],latexCommands=["cdot","frac","left","right"].concat(functions).concat(variables),operators="+-*/^_!",inverses={sin:"arcsin",cos:"arccos",tan:"arctan",csc:"arccsc",sec:"arcsec",cot:"arccot",sinh:"arcsinh",cosh:"arccosh",tanh:"arctanh",csch:"arccsch",sech:"arcsech",coth:"arccoth"},closingBrackets={"{":"}","[":"]","(":")"},orderOfOperations=null,orderMap={"^":0,_:0,"*":1,"/":1,cdot:1,function:1,"+":2,"-":2},operatorNameMap={"^":"pow",_:"sub","*":MULTIPLY,cdot:MULTIPLY,"/":DIVIDE,"+":ADD,"-":SUBTRACT},constantMap={pi:Math.PI,e:Math.E};function createTokens(t){const e=[];let n=[0],i=0;for(let r=0;r<t.length;r++)if(!" \n\t".includes(t[r]))if("\\"!=t[r])if(isNaN(t[r])&&"."!==t[r])"{"===t[r]&&(n.push(0),i++),"}"===t[r]&&(n.pop(),i--),n[i]&&n[i]--,"({[".includes(t[r])?e.push(new Token(t[r],OPEN,!1)):")}]".includes(t[r])?e.push(new Token(t[r],CLOSE,!1)):operators.includes(t[r])?("_^".includes(t[r])&&n[i]++,e.push(new Token(t[r],OPERATOR,!1,"_^".includes(t[r])))):e.push(new Token(t[r],VARIABLE,!1));else{let s=r+1;if(n[i])n[i]--;else for(;s<t.length&&!isNaN(t.substring(r,s+1));s++);if(s===r+1&&"."===t[r])throw"Rogue decimal point found at location "+r+".";e.push(new Token(t.substring(r,s),NUMBER,!1)),r=s-1}else{n[i]&&n[i]--;let s=r+1;for(;s<t.length&&!commandBreakingChars.includes(t[s]);s++);if(s-r==1)throw"Empty LaTeX command at location "+r+".";const o=t.substring(r+1,s);if(!latexCommands.includes(o))throw'Unknown LaTeX command "'+o+'" at location '+r+".";{let t=OPERATOR,r=invertibleFunctions.includes(o),s=0;functions.includes(o)?t=FUNCTION:variables.includes(o)&&(t=VARIABLE),"frac"===o&&(n[i]+=2,s=2),"left"===o?(n.push(0),i++,t=OPEN):"right"===o&&(i--,n.pop(),n[i]++,t=CLOSE),e.push(new Token(o,t,r,s))}r=s-1}return e}function createTree(t){let e=0;return new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([function n(i=null,r=!1,s=!1){let o=null,a=null;const c=orderMap[i]||null;for(;e<t.length;e++){const l=t[e];if(l.type===NUMBER){if(null===a)a=parseFloat(l.data);else{if(o===NUMBER)throw"Two consecutive numbers found.";a=new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([a,n("*")],MULTIPLY)}s=!1,o=NUMBER}else if(l.type===VARIABLE)a=null===a?l.data:new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([a,n("*")],MULTIPLY),s=!1,o=VARIABLE;else if(l.type===OPEN){let r;if("left"===l.data){if(!closingBrackets[t[e+1].data])throw'Unrecognized bracket type: "'+t[e+1].data+'".';e+=2,r=n(closingBrackets[t[e-1].data],!0,!0)}else{if("singleCharacter"===i&&"{"!==l.data)throw'Empty bracket of type "'+l.data+'".';e++,r=n(closingBrackets[l.data],!1,!0)}if(a=null===a?r:new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([a,r],MULTIPLY),s=!1,o=SCOPE,"function"===i&&!o&&"{"!==l.data)break}else{if(l.type===CLOSE){if(operatorNameMap[i]){e--;break}if(r){if("right"!==l.data)throw'Missing "\\right" command.';if(e++,t[e].data!==i)throw'Incorrect "\\right" bracket. Expected "'+i+'" but got "'+t[e].data+'".';break}if(i===FUNCTION){e--;break}if(l.data!==i)throw'Incorrect closing bracket. Expected "'+i+'" but got "'+l.data+'".';break}if(l.type===FUNCTION){if(null!==c&&orderMap.function>c){e--;break}if("singleCharacter"===i)throw'Empty function "'+l.data+'".';let r,u=l.data,h=!1;l.invertible&&e+5<t.length&&"^"===t[e+1].data&&"{"===t[e+2].data&&"-"===t[e+3].data&&"1"===t[e+4].data&&"}"===t[e+5].data?(e+=6,u=inverses[l.data]):"^"===t[e+1].data?(h=!0,e+=2,r=n("singleCharacter",!1,!0),e++):e++;let d=new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([n("function",!1,!0)],u);h&&(d=new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([d,r],"pow")),a=null===a?d:new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([a,d],MULTIPLY),s=!1,o=FUNCTION}else if("frac"===l.data){e++;let t=n("singleCharacter",!1,!0);e++;let i=n("singleCharacter",!1,!0);a=null===a?new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([t,i],DIVIDE):new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([a,new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([t,i],DIVIDE)],MULTIPLY),s=!1,o=VARIABLE}else if(l.type===OPERATOR){if(s=!1,"singleCharacter"===i)throw'Illegal operator placement for operator "'+l.data+'".';if(null!==c&&orderMap[l.data]>=c){if(null===a)throw'Illegal operator placement for operator "'+l.data+'".';e--;break}if(null===a){if("-"!==l.data)throw'Operator "'+l.data+'" has nothing to its left.';e++,a=new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([n("-",!1,!0)],"negative")}else{let t=l.data;if("^_".includes(l.data)&&(t="singleCharacter"),e++,"_"===l.data){if("string"!=typeof a)throw"Only variables are allowed to have subscripts.";{let e=n(t,!1,!0);if(e instanceof _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z)throw"Only numbers or letters are allowed in variable subscripts.";if((""+e).includes("."))throw"Subscripts can not have decimal places.";a=a+"_"+e}}else a=new _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z([a,n(t,!1,!0)],operatorNameMap[l.data])}}}if("singleCharacter"===i)break}if(s)throw"No input given for function or operator";return a}()],ROOT)}const jsMap={root:["","",""],add:["(","+",")"],subtract:["(","-",")"],multiply:["(","*",")"],divide:["(","/",")"],pow:["Math.pow(",",",")"],sqrt:["Math.sqrt(",,")"],exp:["Math.exp(",,")"],log:["Math.log(",,")"],logbase:["Math.log(",")/Math.log(",")"],negative:["-(",,")"],sin:["Math.sin(",,")"],cos:["Math.cos(",,")"],tan:["Math.tan(",,")"],csc:["1/Math.sin(",,")"],sec:["1/Math.cos(",,")"],cot:["1/Math.tan(",,")"],arcsin:["Math.asin(",,")"],arccos:["Math.acos(",,")"],arctan:["Math.atan(",,")"],arccsc:["Math.asin(1/",,")"],arcsec:["Math.acos(1/",,")"],arccot:["Math.atan(1/",,")"],sinh:["Math.sinh(",,")"],cosh:["Math.cosh(",,")"],tanh:["Math.tanh(",,")"],csch:["1/Math.sinh(",,")"],sech:["1/Math.cosh(",,")"],coth:["1/Math.tanh(",,")"],arcsinh:["Math.asinh(",,")"],arccosh:["Math.acosh(",,")"],arctanh:["Math.atanh(",,")"],arccsch:["Math.asinh(1/",,")"],arcsech:["Math.acosh(1/",,")"],arccoth:["Math.atanh(1/",,")"]};function evaluate(input){if("string"==typeof input)try{input=stringToTree(input)}catch{return null}let value=null;try{value=eval(treeToJs(input))}catch{}return value}function treeToJs(t){let e="";return function t(n){if(void 0!==jsMap[n.type]){e+=jsMap[n.type][0];for(let i=0;i<n.args.length;i++){let r=n.args[i];i&&(e+=jsMap[n.type][1]),r instanceof _mathLayer__WEBPACK_IMPORTED_MODULE_0__.Z?t(r):"string"==typeof r?constantMap[r]?e+=constantMap[r]:e+="params."+r:e+=r}e+=jsMap[n.type][2]}}(t),e}function stringToTree(t){return createTree(createTokens(t))}},700:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});class i{constructor(t,e){this.type=e,this.args=t}iterate(t){for(let e=0;e<this.args.length;e++)this.args[e]instanceof i?this.args[e].iterate(t):t(this.args[e],e)}getNode(t){let e=this;for(let n of t)e=e.args[n];return e}getVariables(){let t=[];return this.iterate((e=>{"string"!=typeof e||t.includes(e)||t.push(e)})),t}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var __webpack_exports__={};(()=>{"use strict";const t=function(t,e,n=0){let i,r=-1;for(let s of e)i=t.indexOf(s,n),-1!==i&&(r=Math.min(i,r),-1===r&&(r=i));return r};var e=__webpack_require__(700);function n(i,r,s,o){let a=t(i.args,r);if(-1!==a){s&&(i.type=s);let n=[],c=0,l="";for(;-1!==a;)a-c>1?n.push(new e.Z("scope",i.args.slice(c,a))):a-c==1&&n.push(i.args[c]),o&&o[l]&&o[l](n),l=i.args[a],c=a+1,a=t(i.args,r,c);i.args.length-c>1?n.push(new e.Z("scope",i.args.slice(c))):i.args.length-c==1&&n.push(i.args[c]),o&&o[l]&&o[l](n),i.args=n}for(let t=0;t<i.args.length;t++)i.args[t]instanceof e.Z&&n(i.args[t],r,s,o)}let i=["sqrt","sin","cos","tan","sec","csc","cot","asin","acos","atan","asec","acsc","acot","sinh","cosh","tanh","sech","csch","coth","asinh","acosh","atanh","asech","acsch","acoth","log","abs"];const r={add:["(","+",")"],neg:["-","",""],multiply:["(","*",")"],reciprocal:["1/","",""],exponentiate:["Math.pow(",",",")"],scope:["(","",")"],sqrt:["Math.sqrt(","",")"],equals:["","=",""],log:["1/Math.log(",")*Math.log(",")"],abs:["Math.abs(","",")"],sin:["Math.sin(","",")"],cos:["Math.cos(","",")"],tan:["Math.tan(","",")"],csc:["1/Math.sin(","",")"],sec:["1/Math.cos(","",")"],cot:["1/Math.tan(","",")"],asin:["Math.asin(","",")"],acos:["Math.acos(","",")"],atan:["Math.atan(","",")"],acsc:["Math.acsc(1/(","","))"],asec:["Math.asec(1/(","","))"],acot:["Math.acot(1/(","","))"],sinh:["Math.sinh(","",")"],cosh:["Math.cosh(","",")"],tanh:["Math.tanh(","",")"],csch:["1/Math.sinh(","",")"],sech:["1/Math.cosh(","",")"],coth:["1/Math.tanh(","",")"],asinh:["Math.asinh(","",")"],acosh:["Math.acosh(","",")"],atanh:["Math.atanh(","",")"],acsch:["Math.acsch(1/(","","))"],asech:["Math.asech(1/(","","))"],acoth:["Math.acoth(1/(","","))"]};function s(t,n,i){return void 0!==a[t.type]?(n=n.type===t.type?n.args[0]:new e.Z(a[t.type],[n]),{thisSide:t=t.args[0],otherSide:n}):o[t.type](t,n,i)}const o={add(t,n,i){let r=[n];for(let n=0;n<t.args.length;n++)n!==i&&(t.args[n]instanceof e.Z&&"neg"===t.args[n].type?r.push(t.args[n].args[0]):r.push(new e.Z("neg",[t.args[n]])));return{thisSide:t=t.args[i],otherSide:n=new e.Z("add",r)}},multiply(t,n,i){let r=[n];for(let n=0;n<t.args.length;n++)n!==i&&(t.args[n]instanceof e.Z&&"reciprocal"===t.args[n].type?r.push(t.args[n].args[0]):r.push(new e.Z("reciprocal",[t.args[n]])));return{thisSide:t=t.args[i],otherSide:n=new e.Z("multiply",r)}},exponentiate:(t,n,i)=>(0===i?(n=2===t.args[1]?new e.Z("sqrt",[n]):new e.Z("exponentiate",[n,new e.Z("reciprocal",t.args[1])]),t=t.args[0]):(n=new e.Z("log",[t.args[0],n]),t=t.args[1]),{thisSide:t,otherSide:n}),log:(t,n,i)=>(0===i?(n=new e.Z("exponentiate",[t.args[1],new e.Z("reciprocal",[n])]),t=t.args[0]):(n=new e.Z("exponentiate",[t.args[0],n]),t=t.args[1]),{thisSide:t,otherSide:n}),scope:(t,e,n)=>({thisSide:t.args[0],otherSide:e})},a={sin:"asin",cos:"acos",tan:"atan",sec:"asec",csc:"acsc",cot:"acot",asin:"sin",acos:"cos",atan:"tan",asec:"sec",acsc:"csc",acot:"cot",sinh:"asinh",cosh:"acosh",tanh:"atanh",sech:"asech",csch:"acsch",coth:"acoth",asinh:"sinh",acosh:"cosh",atanh:"tanh",asech:"sech",acsch:"csch",acoth:"coth",reciprocal:"reciprocal",neg:"neg"};var c=__webpack_require__(534);class l{constructor(t,e){this.mathLayer=t,this.name=e,this.functions=this.mathLayer.getVariables(),this.fun=this.createFunction()}createFunction(){const t={};for(let e of this.functions)t[e]="params."+e;try{return new Function("params","return "+(0,c.A2)(this.mathLayer,t))}catch{return!1}}set(t,e){this.mathLayer=e,this.name=t,this.functions=this.mathLayer.getVariables(),this.fun=this.createFunction()}}class u{constructor(){this.names=[],this.odes={},this.functions={},this.initialValues={}}addOde(t,e=0){this.names.includes(t.name)&&this.removeOde(t.name),this.names.push(t.name),this.odes[t.name]=t,this.initialValues[t.name]=e}removeOde(t){this.names.splice(this.names.indexOf(t),1),delete this.odes[t],delete this.initialValues[t],delete this.functions[t]}changeOdeName(t,e){this.names[this.names.indexOf(t)]=e,this.odes[e]=this.odes[t],this.initialValues[e]=this.initialValues[t],this.functions[e]=this.functions[t],delete this.odes[t],delete this.initialValues[t],delete this.functions[t]}createFunctions(){this.functions={};let t={};for(let e of this.names)t[e]="params."+e;for(let e of this.names)this.functions[e]=new Function("params","return "+(0,c.A2)(this.odes[e].mathLayer,t))}createFunction(t){this.functions={};let e={};for(let t of this.names)e[t]="params."+t;try{this.functions[t]=new Function("params","return "+(0,c.A2)(this.odes[t].mathLayer,e))}catch(t){return console.error(t),!1}return!0}checkSystem(){for(let t of this.names)for(let e of this.odes[t].functions)if(!this.names.includes(e))return!1;return!0}checkOde(t){for(let e of this.odes[t].functions)if(!this.names.includes(e))return!1;return!0}checkOdeDeep(...t){for(let e=0;e<t.length;e++){if(void 0===this.odes[t[e]])return!1;for(let n of this.odes[t[e]].functions)t.includes(n)||t.push(n)}return!0}listDependencies(...t){for(let e=0;e<t.length;e++)for(let n of this.odes[t[e]].functions)t.includes(n)||t.push(n);return t}}const h={euler(t,e,n,i){let r={};i||(i=t.names);const s=t.listDependencies(...i);for(let e of s)r[e]=new Array(n),r[e][0]=t.initialValues[e];let o=Object.assign({},t.initialValues);for(let a=1;a<n;a++){for(let n of s)r[n][a]=r[n][a-1]+e*t.odes[n].fun(o);for(let t of s)if(o[t]=r[t][a],Math.abs(o[t])>1<<27||Number.isNaN(o[t])){for(let t of i)r[t].length=a+1;return console.log("equation became unbounded at time = "+a*e),r}}return r},RK4(t,e,n,i){let r=Object.assign({},t.initialValues),s={};i||(i=t.names);const o=t.listDependencies(...i);for(let e of i)s[e]=new Array(n),s[e][0]=t.initialValues[e];let a={},c={},l={},u={},h={};for(let d=0;d<n-1;d++){for(let n of o)a[n]=e*t.odes[n].fun(r);for(let t of o)h[t]=r[t]+a[t]/2;for(let n of o)c[n]=e*t.odes[n].fun(h);for(let t of o)h[t]=r[t]+c[t]/2;for(let n of o)l[n]=e*t.odes[n].fun(h);for(let t of o)h[t]=r[t]+l[t];for(let n of o)u[n]=e*t.odes[n].fun(h);for(let t of o)if(r[t]+=1/6*(a[t]+2*c[t]+2*l[t]+u[t]),i.includes(t)&&(s[t][d+1]=r[t]),Math.abs(r[t])>1<<27||Number.isNaN(r[t])){for(let t of i)s[t].length=d+1;return console.log("equation became unbounded at time = "+d*e),s}}return s},AB4(t,e,n,i){return this.adamsBashforth([55/24,-59/24,37/24,-9/24],t,e,n,i)},AB5(t,e,n,i){return this.adamsBashforth([1901/720,-2774/720,2616/720,-1274/720,251/720],t,e,n,i)},AM3(t,e,n,i){return this.adamsMoulton([23/12,-16/12,5/12],[9/24,19/24,-5/24,1/24],t,e,n,i)},AM4(t,e,n,i){return this.adamsMoulton([55/24,-59/24,37/24,-9/24],[251/720,646/720,-264/720,106/720,-19/720],t,e,n,i)},adamsBashforth(t,e,n,i,r){const s=t.length;r||(r=e.names);const o=e.listDependencies(...r),a=this.RK4(e,n,s,o),c=new Array(s);for(let t=0;t<s;t++){c[t]={};for(let e of o)c[t][e]=a[e][s-t-1]}const l=Object.assign({},c[0]);for(let t of o)r.includes(t)?a[t].length=i:delete a[t];for(let u=s;u<i;u++){for(let i of o){let r=0;for(let n=0;n<s;n++)r+=t[n]*e.odes[i].fun(c[n]);l[i]+=n*r}c.unshift(c.pop());for(let t of o)if(c[0][t]=l[t],r.includes(t)&&(a[t][u]=l[t]),Math.abs(c[0][t])>1<<28||Number.isNaN(c[0][t])){for(let t of r)a[t].length=u;return console.log("equation became unbounded at time = "+u*n),a}}return a},adamsMoulton(t,e,n,i,r,s){const o=t.length;s||(s=n.names);const a=n.listDependencies(...s),c=this.RK4(n,i,o,a),l=new Array(o);for(let t=0;t<o;t++){l[t]={};for(let e of a)l[t][e]=c[e][o-t-1]}const u=Object.assign({},l[0]),h={};for(let t of a)s.includes(t)?c[t].length=r:delete c[t];for(let d=o;d<r;d++){for(let e of a){let r=0;for(let i=0;i<o;i++)r+=t[i]*n.odes[e].fun(l[i]);h[e]=u[e]+i*r}for(let t of a){let r=n.odes[t].fun,s=e[0]*r(h);for(let t=0;t<o;t++)s+=e[t+1]*r(l[t]);u[t]+=i*s}l.unshift(l.pop());for(let t of a)if(l[0][t]=u[t],s.includes(t)&&(c[t][d]=u[t]),Math.abs(u[t])>1<<27||Number.isNaN(u[t])){for(let t of s)c[t].length=d;return console.log("equation became unbounded at time = "+d*i),c}}return c}};class d{constructor(){this.listeners=[]}addListener(t,e,n,i){return t.addEventListener("mousedown",r),this.listeners.push(r),this.listeners.length-1;function r(t){let r=t.clientX,s=t.clientY,o=t.clientX,a=t.clientY;if("function"!=typeof i||i(t)){const c=t.button;function l(t){void 0===t.movementX&&(t.movementX=t.clientX-r,t.movementY=t.clientY-s,t.prevX=t.clientX,t.prevY=t.clientY),t.startX=o,t.startY=a,t.relativeX=t.clientX-o,t.relativeY=t.clientY-a,e(t)}function u(t){"function"==typeof n&&(void 0===t.movementX&&(t.movementX=t.clientX-r,t.movementY=t.clientY-s,t.prevX=t.clientX,t.prevY=t.clientY),t.startX=o,t.startY=a,t.relativeX=t.clientX-o,t.relativeY=t.clientY-a,n(t)),t.button===c&&(document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",u))}document.addEventListener("mousemove",l),document.addEventListener("mouseup",u)}}}removeListener(t){document.removeEventListener("mousedown",this.listeners[t]),this.listeners.splice(t,1)}static begin(t,e,n=!1,i){const r=t.button,s=t.clientX,o=t.clientY;function a(t){void 0===t.movementX&&(t.movementX=t.clientX-prevX,t.movementY=t.clientY-prevY,t.prevX=t.clientX,t.prevY=t.clientY),t.startX=s,t.startY=o,t.relativeX=t.clientX-s,t.relativeY=t.clientY-o,e(t)}document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function t(e){e.button===r&&("function"==typeof i&&i(e),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",t))})),n&&e(t)}}class f{constructor(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=i||0}scale(t){return new f(this.x*t,this.y*t,this.z*t,this.w*t)}mScale(t){this.x*=t,this.y*=t,this.z*=t,this.w*=t}add(t){return new f(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}subtract(t){return new f(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}cross(t){return new f(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){let t=this.magnitude;t>0&&(this.x/=t,this.y/=t,this.z/=t,this.w/=t)}get magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}get mag2(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}get maxComponent(){return Math.max(this.x,this.y,this.z,this.w)}max(t){return new f(Math.max(this.x,t.x),Math.max(this.y,t.y),Math.max(this.z,t.z),Math.max(this.w,t.w))}get abs(){return new f(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z),Math.abs(this.w))}get normalized(){return this.scale(1/this.magnitude)}set(t){this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w}shift(t,e,n){n=n||0,t=(t%(e=e||4)+e)%e;const i=[this.x,this.y,this.z,this.w];let r=[this.x,this.y,this.z,this.w];for(let s=0;s<e;s++)r[((s+t)%e+n)%4]=i[(n+s)%4];return new f(r[0],r[1],r[2],r[3])}volume(t,e){const n=this;return Math.sqrt(n.mag2*t.mag2*e.mag2+2*n.dot(t)*t.dot(e)*e.dot(n)-n.dot(t)*n.dot(t)*e.mag2-t.dot(e)*t.dot(e)*n.mag2-e.dot(n)*e.dot(n)*t.mag2)}a(t){switch(t=t||4){case 2:return[this.x,this.y];case 3:return[this.x,this.y,this.z];case 4:return[this.x,this.y,this.z,this.w]}}det2(t){return this.x*t.y-this.y*t.x}det3(t,e){let n=0;return n+=this.x*t.shift(-1).det2(e.shift(-1)),n+=t.x*e.shift(-1).det2(this.shift(-1)),n+=e.x*this.shift(-1).det2(t.shift(-1)),n}det4(t,e,n){let i=0;return i+=this.x*t.shift(-1).det3(e.shift(-1),n.shift(-1)),i-=t.x*e.shift(-1).det3(n.shift(-1),this.shift(-1)),i+=e.x*n.shift(-1).det3(this.shift(-1),t.shift(-1)),i-=n.x*this.shift(-1).det3(t.shift(-1),e.shift(-1)),i}cross3(t,e){let n=new f;return n.x=this.shift(-1).det3(t.shift(-1),e.shift(-1)),n.y=-this.shift(-2).det3(t.shift(-2),e.shift(-2)),n.z=this.shift(-3).det3(t.shift(-3),e.shift(-3)),n.w=-this.shift(-4).det3(t.shift(-4),e.shift(-4)),n}clone(){return new f(this.x,this.y,this.z,this.w)}static fromArray(t,e,n){n=n||4;const i=new f(t[e=e||0]);return n>1&&(i.y=t[e+1]),n>2&&(i.z=t[e+2]),n>3&&(i.w=t[e+3]),i}static add(...t){const e=new f;for(let n=0;n<t.length;n++)e.x+=t[n].x,e.y+=t[n].y,e.z+=t[n].z,e.w+=t[n].w;return e}static normalize(t){return t.normalized}static angle(t,e){return t.dot(e)/(t.magnitude*e.magnitude)}}const p={},m={"!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","~":"`","+":"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/"};document.addEventListener("keydown",(t=>{let e=t.key.toLowerCase();e=m[e]||e,p[e]=!0})),document.addEventListener("keyup",(t=>{let e=t.key.toLowerCase();e=m[e]||e,p[e]=!1}));const g=p;function v(t){return t-Math.floor(t)}function y(t,e,n){let i=Math.round(parseInt(t.substr(1,2),16)*(1-n)+parseInt(e.substr(1,2),16)*n),r=Math.round(parseInt(t.substr(3,2),16)*(1-n)+parseInt(e.substr(3,2),16)*n),s=Math.round(parseInt(t.substr(5,2),16)*(1-n)+parseInt(e.substr(5,2),16)*n);return"#"+i.toString(16)+r.toString(16)+s.toString(16)}const x=Math.PI/180;class b{constructor(t,e,n){this.xOde=t,this.yOde=e,this.system=n,this.timestep=.1,this.algorithm="RK4",this.iterations=1e3,this.data=null,this.enabled=!0,this.valid=!1,n.names.includes(t)&&n.names.includes(e)&&n.checkOde(t)&&n.checkOde(e)&&(this.valid=!0)}compute(){return this.data=h[this.algorithm](this.system,this.timestep,this.iterations,[this.xOde,this.yOde]),this.data}draw(t,e="#f00"){const{ax:n,bx:i,ay:r,by:s,ctx:o}=t,a=this.data[this.xOde],c=this.data[this.yOde],l=a.length;let u,h,d,f,p=a[0]*n+i,m=c[0]*r+s,g=p,v=m,y=0,b=!0,w=!1;o.beginPath(),o.moveTo(p,m);let T=0;for(let t=1;t<l;t++)p=a[t]*n+i,m=c[t]*r+s,b||(d=(p-g)*(h-v)-(u-g)*(m-v),(Math.sign(d)!==y||d*d/(f*((p-g)*(p-g)+(m-v)*(m-v)))>x*x)&&(b=!0)),!w&&(p-g)*(p-g)+(m-v)*(m-v)>16&&(w=!0),b&&w&&(b=w=!1,f=(p-g)*(p-g)+(m-v)*(m-v),y=Math.sign((p-g)*(h-v)-(u-g)*(m-v)),u=g,h=v,g=p,v=m,T=t,o.lineTo(p,m));T+1!==l&&o.lineTo(p,m),o.strokeStyle=e,o.lineCap=o.lineJoin="round",o.stroke()}}var w=__webpack_require__(867),T=__webpack_require__.n(w),_=__webpack_require__(117),C=__webpack_require__.n(_);let O=document.createElement("template");O.innerHTML=C(),O=O.content;class k{constructor(t,e,n,i){this.colorManager=t,this.node=O.cloneNode(!0).firstChild;for(let t of this.colorManager.order){let e=document.createElement("div");e.className="color-selection",e.style.backgroundColor=this.colorManager.colors[t],e.setAttribute("data-color",t),this.node.appendChild(e)}e.appendChild(this.node),window.getComputedStyle(this.node).height,this.node.classList.remove("nonexistent");const r=t=>{this.node.contains(t.target)&&void 0!==n&&n(t.target.getAttribute("data-color"),this.colorManager.colors[t.target.getAttribute("data-color")]),this.node.classList.add("nonexistent"),document.removeEventListener("mousedown",r);const s=t=>{t.target===this.node&&(e.removeChild(this.node),void 0!==i&&i(),this.node.removeEventListener("transitionend",s))};this.node.addEventListener("transitionend",s)};document.addEventListener("mousedown",r)}popup(t){document.body.appendChild(this.node),window.getComputedStyle(this.node).height,this.node.classList.remove("nonexistent");const e=t=>{if(this.node.contains(t.target))console.log(t.target.getAttribute("data-color"));else{this.node.classList.add("nonexistent");const t=n=>{n.target===this.node&&(document.body.removeChild(this.node),document.removeEventListener("mousedown",e),this.node.removeEventListener("transitionend",t))};this.node.addEventListener("transitionend",t)}};document.addEventListener("mousedown",e)}}let q=document.createElement("template");q.innerHTML=T(),q=q.content;class E{constructor(t,e,n){this.index=n,this.colorPickerOpen=!1,e.parametricColorManager.addAutoColor();const i=q.cloneNode(!0).firstChild;this.xBox=i.querySelector("#parametric__x-box"),this.yBox=i.querySelector("#parametric__y-box"),this.colorButton=i.querySelector(".color-button"),this.stepBox=i.querySelector(".parametric__step-box"),this.algorithmBox=i.querySelector("select"),this.iterationsBox=i.querySelector(".parametric__iterations-box"),i.querySelector(".remove-button").onclick=()=>{t.removeChild(i),e.removeParametric(this.index)},this.xBox.oninput=this.yBox.oninput=this.algorithmBox.onchange=this.stepBox.oninput=this.iterationsBox.oninput=()=>{this.updateParametric(e)},this.iterationsBox.onchange=()=>{let t=parseInt(this.iterationsBox.value);isNaN(t)&&(t=1e3),this.iterationsBox.value=Math.min(1e4,Math.abs(t))},this.stepBox.onchange=()=>{let t=parseFloat(this.stepBox.value);isNaN(t)&&(t=.01),this.stepBox.value=t},this.colorButton.onmousedown=()=>{this.colorPickerOpen||(setTimeout((()=>{new k(e.parametricColorManager,i,((t,n)=>{this.colorButton.style.backgroundColor=n,this.colorButton.style.color=parseInt(n.substr(1,2))+parseInt(n.substr(3,2))+parseInt(n.substr(5,2))<382.5?"white":"black",e.parametricColorManager.useCount[e.parametricColorManager.currentColors[this.index]]--,e.parametricColorManager.currentColors[this.index]=t,e.parametricColorManager.useCount[t]++,e.graph.draw()}),(()=>{this.colorPickerOpen=!1}))}),0),this.colorPickerOpen=!0)},t.appendChild(i)}updateParametric(t){let e=parseFloat(this.stepBox.value);isNaN(e)&&(e=0);let n=parseInt(this.iterationsBox.value);isNaN(n)&&(n=0),n=Math.min(1e4,Math.abs(n)),t.updateParametric(this.index,this.xBox.value,this.yBox.value,e,this.algorithmBox.value,n)}}var S=__webpack_require__(415),M=__webpack_require__.n(S),L=__webpack_require__(755);window.jQuery=L,function(){var t,e=window.jQuery,n="mathquill-command-id",i="mathquill-block-id",r=Math.min,s=Math.max;function o(){}var a=[].slice;function c(t){var e=t.length-1;return function(){var n=a.call(arguments,0,e),i=a.call(arguments,e);return t.apply(this,n.concat([i]))}}var l=c((function(t,e){return c((function(n,i){if(t in n)return n[t].apply(n,e.concat(i))}))}));function u(t){return c((function(e,n){return"function"!=typeof e&&(e=l(e)),t.call(this,(function(t){return e.apply(t,[t].concat(n))}))}))}function h(t){var e=a.call(arguments,1);return function(){return t.apply(this,e)}}function d(t,e){if(!e)throw new Error("prayer failed: "+t)}var f=function(t,e,n){function i(t){return"object"==typeof t}function r(t){return"function"==typeof t}function s(){}return function n(o,a){function c(){var t=new l;return r(t.init)&&t.init.apply(t,arguments),t}function l(){}void 0===a&&(a=o,o=Object),c.Bare=l;var u,h=s[t]=o[t],d=l[t]=c[t]=c.p=new s;return d.constructor=c,c.mixin=function(e){return l[t]=c[t]=n(c,e)[t],c},(c.open=function(t){if(u={},r(t)?u=t.call(c,d,h,c,o):i(t)&&(u=t),i(u))for(var n in u)e.call(u,n)&&(d[n]=u[n]);return r(d.init)||(d.init=o),c})(a)}}("prototype",{}.hasOwnProperty),p=-1;function m(t){d("a direction was passed",t===p||1===t)}var g=f(e,(function(t){t.insDirOf=function(t,e){return t===p?this.insertBefore(e.first()):this.insertAfter(e.last())},t.insAtDirEnd=function(t,e){return t===p?this.prependTo(e):this.appendTo(e)}})),v=f((function(t){t.parent=0,t[p]=0,t[1]=0,t.init=function(t,e,n){this.parent=t,this[p]=e,this[1]=n},this.copy=function(t){return v(t.parent,t[p],t[1])}})),y=f((function(t){t[p]=0,t[1]=0,t.parent=0;var e=0;this.byId={},t.init=function(){this.id=e+=1,y.byId[this.id]=this,this.ends={},this.ends[p]=0,this.ends[1]=0},t.dispose=function(){delete y.byId[this.id]},t.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},t.jQ=g(),t.jQadd=function(t){return this.jQ=this.jQ.add(t)},t.jQize=function(t){function e(t){if(t.getAttribute){var n=t.getAttribute("mathquill-command-id"),i=t.getAttribute("mathquill-block-id");n&&y.byId[n].jQadd(t),i&&y.byId[i].jQadd(t)}for(t=t.firstChild;t;t=t.nextSibling)e(t)}t=g(t||this.html());for(var n=0;n<t.length;n+=1)e(t[n]);return t},t.createDir=function(t,e){m(t);var n=this;return n.jQize(),n.jQ.insDirOf(t,e.jQ),e[t]=n.adopt(e.parent,e[p],e[1]),n},t.createLeftOf=function(t){return this.createDir(p,t)},t.selectChildren=function(t,e){return C(t,e)},t.bubble=u((function(t){for(var e=this;e&&!1!==t(e);e=e.parent);return this})),t.postOrder=u((function(t){return function e(n){n.eachChild(e),t(n)}(this),this})),t.isEmpty=function(){return 0===this.ends[p]&&0===this.ends[1]},t.children=function(){return b(this.ends[p],this.ends[1])},t.eachChild=function(){var t=this.children();return t.each.apply(t,arguments),this},t.foldChildren=function(t,e){return this.children().fold(t,e)},t.withDirAdopt=function(t,e,n,i){return b(this,this).withDirAdopt(t,e,n,i),this},t.adopt=function(t,e,n){return b(this,this).adopt(t,e,n),this},t.disown=function(){return b(this,this).disown(),this},t.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}}));function x(t,e,n){d("a parent is always present",t),d("leftward is properly set up",e?e[1]===n&&e.parent===t:t.ends[p]===n),d("rightward is properly set up",n?n[p]===e&&n.parent===t:t.ends[1]===e)}var b=f((function(e){e.init=function(e,n,i){if(i===t&&(i=p),m(i),d("no half-empty fragments",!e==!n),this.ends={},e){d("withDir is passed to Fragment",e instanceof y),d("oppDir is passed to Fragment",n instanceof y),d("withDir and oppDir have the same parent",e.parent===n.parent),this.ends[i]=e,this.ends[-i]=n;var r=this.fold([],(function(t,e){return t.push.apply(t,e.jQ.get()),t}));this.jQ=this.jQ.add(r)}},e.jQ=g(),e.withDirAdopt=function(t,e,n,i){return t===p?this.adopt(e,n,i):this.adopt(e,i,n)},e.adopt=function(t,e,n){x(t,e,n);var i=this;i.disowned=!1;var r=i.ends[p];if(!r)return this;var s=i.ends[1];return e||(t.ends[p]=r),n?n[p]=s:t.ends[1]=s,i.ends[1][1]=n,i.each((function(n){n[p]=e,n.parent=t,e&&(e[1]=n),e=n})),i},e.disown=function(){var t=this,e=t.ends[p];if(!e||t.disowned)return t;t.disowned=!0;var n=t.ends[1],i=e.parent;return x(i,e[p],e),x(i,n,n[1]),e[p]?e[p][1]=n[1]:i.ends[p]=n[1],n[1]?n[1][p]=e[p]:i.ends[1]=e[p],t},e.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},e.each=u((function(t){var e=this,n=e.ends[p];if(!n)return e;for(;n!==e.ends[1][1]&&!1!==t(n);n=n[1]);return e})),e.fold=function(t,e){return this.each((function(n){t=e.call(this,t,n)})),t}})),w={},T={},_=f(v,(function(t){t.init=function(t,e){this.parent=t,this.options=e;var n=this.jQ=this._jQ=g('<span class="mq-cursor">&#8203;</span>');this.blink=function(){n.toggleClass("mq-blink")},this.upDownCache={}},t.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[1]?this.selection&&this.selection.ends[p][p]===this[p]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[1].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},t.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=g(),this},t.withDirInsertAt=function(t,e,n,i){var r=this.parent;this.parent=e,this[t]=n,this[-t]=i,r!==e&&r.blur&&r.blur()},t.insDirOf=function(t,e){return m(t),this.jQ.insDirOf(t,e.jQ),this.withDirInsertAt(t,e.parent,e[t],e),this.parent.jQ.addClass("mq-hasCursor"),this},t.insLeftOf=function(t){return this.insDirOf(p,t)},t.insRightOf=function(t){return this.insDirOf(1,t)},t.insAtDirEnd=function(t,e){return m(t),this.jQ.insAtDirEnd(t,e.jQ),this.withDirInsertAt(t,e,0,e.ends[t]),e.focus(),this},t.insAtLeftEnd=function(t){return this.insAtDirEnd(p,t)},t.insAtRightEnd=function(t){return this.insAtDirEnd(1,t)},t.jumpUpDown=function(t,e){var n=this;n.upDownCache[t.id]=v.copy(n);var i=n.upDownCache[e.id];if(i)i[1]?n.insLeftOf(i[1]):n.insAtRightEnd(i.parent);else{var r=n.offset().left;e.seek(r,n)}},t.offset=function(){var t=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),t},t.unwrapGramp=function(){var t=this.parent.parent,e=t.parent,n=t[1],i=t[p];if(t.disown().eachChild((function(r){r.isEmpty()||(r.children().adopt(e,i,n).each((function(e){e.jQ.insertBefore(t.jQ.first())})),i=r.ends[1])})),!this[1])if(this[p])this[1]=this[p][1];else for(;!this[1];){if(this.parent=this.parent[1],!this.parent){this[1]=t[1],this.parent=e;break}this[1]=this.parent.ends[p]}this[1]?this.insLeftOf(this[1]):this.insAtRightEnd(e),t.jQ.remove(),t[p].siblingDeleted&&t[p].siblingDeleted(this.options,1),t[1].siblingDeleted&&t[1].siblingDeleted(this.options,p)},t.startSelection=function(){for(var t=this.anticursor=v.copy(this),e=t.ancestors={},n=t;n.parent;n=n.parent)e[n.parent.id]=n},t.endSelection=function(){delete this.anticursor},t.select=function(){var t=this.anticursor;if(this[p]===t[p]&&this.parent===t.parent)return!1;for(var e=this;e.parent;e=e.parent)if(e.parent.id in t.ancestors){var n=e.parent;break}d("cursor and anticursor in the same tree",n);var i,r,s=t.ancestors[n.id],o=1;if(e[p]!==s)for(var a=e;a;a=a[1])if(a[1]===s[1]){o=p,i=e,r=s;break}return 1===o&&(i=s,r=e),i instanceof v&&(i=i[1]),r instanceof v&&(r=r[p]),this.hide().selection=n.selectChildren(i,r),this.insDirOf(o,this.selection.ends[o]),this.selectionChanged(),!0},t.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},t.deleteSelection=function(){this.selection&&(this[p]=this.selection.ends[p][p],this[1]=this.selection.ends[1][1],this.selection.remove(),this.selectionChanged(),delete this.selection)},t.replaceSelection=function(){var t=this.selection;return t&&(this[p]=t.ends[p][p],this[1]=t.ends[1][1],delete this.selection),t}})),C=f(b,(function(t,e){t.init=function(){e.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},t.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),e.adopt.apply(this,arguments)},t.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},t.join=function(t){return this.fold("",(function(e,n){return e+n[t]()}))}})),O=f((function(t){t.init=function(t,e,n){this.id=t.id,this.data={},this.root=t,this.container=e,this.options=n,t.controller=this,this.cursor=t.cursor=_(t,n)},t.handle=function(t,e){var n=this.options.handlers;if(n&&n.fns[t]){var i=n.APIClasses[this.KIND_OF_MQ](this);e===p||1===e?n.fns[t](e,i):n.fns[t](i)}};var e=[];this.onNotify=function(t){e.push(t)},t.notify=function(){for(var t=0;t<e.length;t+=1)e[t].apply(this.cursor,arguments);return this}})),k={},q=f(),E={},S=f(),M={};function L(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function D(t){return L(),jt(t)}D.prototype=S.p,D.interfaceVersion=function(t){if(1!==t)throw"Only interface version 1 supported. You specified: "+t;return(L=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),D},D.getInterface=N;var A=N.MIN=1,j=N.MAX=2;function N(t){if(!(A<=t&&t<=j))throw"Only interface versions between "+A+" and "+j+" supported. You specified: "+t;function e(t){if(!t||!t.nodeType)return null;var e=g(t).children(".mq-root-block").attr(i),r=e&&y.byId[e].controller;return r?n[r.KIND_OF_MQ](r):null}var n={};function r(t,e){for(var i in e&&e.handlers&&(e.handlers={fns:e.handlers,APIClasses:n}),e)if(e.hasOwnProperty(i)){var r=e[i],s=E[i];t[i]=s?s(r):r}}e.L=p,e.R=1,e.config=function(t){return r(q.p,t),this},e.registerEmbed=function(t,e){if(!/^[a-z][a-z0-9]*$/i.test(t))throw"Embed name must start with letter and be only letters and digits";M[t]=e};var s=n.AbstractMathQuill=f(S,(function(t){t.init=function(t){this.__controller=t,this.__options=t.options,this.id=t.id,this.data=t.data},t.__mathquillify=function(t){var e=this.__controller,n=e.root,r=e.container;e.createTextarea();var s=r.addClass(t).contents().detach();n.jQ=g('<span class="mq-root-block"/>').attr(i,n.id).appendTo(r),this.latex(s.text()),this.revert=function(){return r.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(s)}},t.config=function(t){return r(this.__options,t),this},t.el=function(){return this.__controller.container[0]},t.text=function(){return this.__controller.exportText()},t.latex=function(t){return arguments.length>0?(this.__controller.renderLatexMath(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},t.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},t.reflow=function(){return this.__controller.root.postOrder("reflow"),this}}));for(var a in e.prototype=s.prototype,n.EditableField=f(s,(function(t,e){t.__mathquillify=function(){return e.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},t.focus=function(){return this.__controller.textarea.focus(),this},t.blur=function(){return this.__controller.textarea.blur(),this},t.write=function(t){return this.__controller.writeLatex(t),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},t.cmd=function(t){var e=this.__controller.notify(),n=e.cursor;if(/^\\[a-z]+$/i.test(t)){t=t.slice(1);var i=w[t];i&&(t=i(t),n.selection&&t.replaces(n.replaceSelection()),t.createLeftOf(n.show()),this.__controller.scrollHoriz())}else n.parent.write(n,t);return e.blurred&&n.hide().parent.blur(),this},t.select=function(){var t=this.__controller;for(t.notify("move").cursor.insAtRightEnd(t.root);t.cursor[p];)t.selectLeft();return this},t.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},t.moveToDirEnd=function(t){return this.__controller.notify("move").cursor.insAtDirEnd(t,this.__controller.root),this},t.moveToLeftEnd=function(){return this.moveToDirEnd(p)},t.moveToRightEnd=function(){return this.moveToDirEnd(1)},t.keystroke=function(t){t=t.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var e=0;e<t.length;e+=1)this.__controller.keystroke(t[e],{preventDefault:o});return this},t.typedText=function(t){for(var e=0;e<t.length;e+=1)this.__controller.typedText(t.charAt(e));return this},t.dropEmbedded=function(t,e,n){var i=t-g(window).scrollLeft(),r=e-g(window).scrollTop(),s=document.elementFromPoint(i,r);this.__controller.seek(g(s),t,e),At().setOptions(n).createLeftOf(this.__controller.cursor)}})),e.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},e.EditableField.prototype=n.EditableField.prototype,k)!function(i,r){var s=n[i]=r(n);e[i]=function(n,r){var o=e(n);if(o instanceof s||!n||!n.nodeType)return o;var a=O(s.RootBlock(),g(n),q());return a.KIND_OF_MQ=i,s(a).__mathquillify(r,t)},e[i].prototype=s.prototype}(a,k[a]);return e}D.noConflict=function(){return window.MathQuill=P,D};var P=window.MathQuill;function I(t){for(var e="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),n=0;n<e.length;n+=1)!function(e){t[e]=function(t){this.controller.handle(e,t)}}(e[n]);t.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}window.MathQuill=D;var R,Q=f((function(t,e,n){function i(t,e){throw"Parse Error: "+e+" at "+(t?"'"+t+"'":"EOF")}t.init=function(t){this._=t},t.parse=function(t){return this.skip(o)._(""+t,(function(t,e){return e}),i)},t.or=function(t){d("or is passed a parser",t instanceof n);var e=this;return n((function(n,i,r){return e._(n,i,(function(e){return t._(n,i,r)}))}))},t.then=function(t){var e=this;return n((function(i,r,s){return e._(i,(function(e,i){var o=t instanceof n?t:t(i);return d("a parser is returned",o instanceof n),o._(e,r,s)}),s)}))},t.many=function(){var t=this;return n((function(e,n,i){for(var r=[];t._(e,s,o););return n(e,r);function s(t,n){return e=t,r.push(n),!0}function o(){return!1}}))},t.times=function(t,e){arguments.length<2&&(e=t);var i=this;return n((function(n,r,s){for(var o,a=[],c=!0,l=0;l<t;l+=1)if(!(c=i._(n,u,h)))return s(n,o);for(;l<e&&c;l+=1)c=i._(n,u,d);return r(n,a);function u(t,e){return a.push(e),n=t,!0}function h(t,e){return o=e,n=t,!1}function d(t,e){return!1}}))},t.result=function(t){return this.then(s(t))},t.atMost=function(t){return this.times(0,t)},t.atLeast=function(t){var e=this;return e.times(t).then((function(t){return e.many().map((function(e){return t.concat(e)}))}))},t.map=function(t){return this.then((function(e){return s(t(e))}))},t.skip=function(t){return this.then((function(e){return t.result(e)}))},this.string=function(t){var e=t.length,i="expected '"+t+"'";return n((function(n,r,s){var o=n.slice(0,e);return o===t?r(n.slice(e),o):s(n,i)}))};var r=this.regex=function(t){d("regexp parser is anchored","^"===t.toString().charAt(1));var e="expected "+t;return n((function(n,i,r){var s=t.exec(n);if(s){var o=s[0];return i(n.slice(o.length),o)}return r(n,e)}))},s=n.succeed=function(t){return n((function(e,n){return n(e,t)}))},o=(n.fail=function(t){return n((function(e,n,i){return i(e,t)}))},n.letter=r(/^[a-z]/i),n.letters=r(/^[a-z]*/i),n.digit=r(/^[0-9]/),n.digits=r(/^[0-9]*/),n.whitespace=r(/^\s+/),n.optWhitespace=r(/^\s*/),n.any=n((function(t,e,n){return t?e(t.slice(1),t.charAt(0)):n(t,"expected any character")})),n.all=n((function(t,e,n){return e("",t)})),n.eof=n((function(t,e,n){return t?n(t,"expected EOF"):e(t,t)})))})),B=(R={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},function(t,n){var i,r=null,s=null,a=e(t),c=e(n.container||a),l=o;function u(t){l=t,clearTimeout(i),i=setTimeout(t)}c.bind("keydown keypress input keyup focusout paste",(function(t){l(t)}));var h=!1;function d(){n.keystroke(function(t){var e,n=t.which||t.keyCode,i=R[n],r=[];return t.ctrlKey&&r.push("Ctrl"),t.originalEvent&&t.originalEvent.metaKey&&r.push("Meta"),t.altKey&&r.push("Alt"),t.shiftKey&&r.push("Shift"),e=i||String.fromCharCode(n),r.length||i?(r.push(e),r.join("-")):e}(r),r)}function f(){if(!("selectionStart"in(t=a[0]))||t.selectionStart===t.selectionEnd){var t,e=a.val();1===e.length?(a.val(""),n.typedText(e)):e&&a[0].select&&a[0].select()}}function p(){var t=a.val();a.val(""),t&&n.paste(t)}return c.bind({keydown:function(t){r=t,s=null,h&&u((function(t){t&&"focusout"===t.type||!a[0].select||a[0].select(),l=o,clearTimeout(i)})),d()},keypress:function(t){r&&s&&d(),s=t,u(f)},focusout:function(){r=s=null},paste:function(t){a.focus(),u(p)}}),{select:function(t){l(),l=o,clearTimeout(i),a.val(t),t&&a[0].select&&a[0].select(),h=!!t}}});O.open((function(t,e){t.exportText=function(){return this.root.foldChildren("",(function(t,e){return t+e.text()}))}})),O.open((function(t){t.focusBlurEvents=function(){var t,e=this,n=e.root,i=e.cursor;function r(){clearTimeout(t),i.selection&&i.selection.jQ.addClass("mq-blur"),s()}function s(){i.hide().parent.blur(),e.container.removeClass("mq-focused"),g(window).off("blur",r)}e.textarea.focus((function(){e.blurred=!1,clearTimeout(t),e.container.addClass("mq-focused"),i.parent||i.insAtRightEnd(n),i.selection?(i.selection.jQ.removeClass("mq-blur"),e.selectionChanged()):i.show()})).blur((function(){e.blurred=!0,t=setTimeout((function(){n.postOrder("intentionalBlur"),i.clearSelection().endSelection(),s()})),g(window).on("blur",r)})),e.blurred=!0,i.hide().parent.blur()}})),O.open((function(t){t.keystroke=function(t,e){this.cursor.parent.keystroke(t,e,this)}})),y.open((function(t){t.keystroke=function(t,e,n){var i=n.cursor;switch(t){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":n.ctrlDeleteDir(p);break;case"Shift-Backspace":case"Backspace":n.backspace();break;case"Esc":case"Tab":return void n.escapeDir(1,t,e);case"Shift-Tab":case"Shift-Esc":return void n.escapeDir(p,t,e);case"End":n.notify("move").cursor.insAtRightEnd(i.parent);break;case"Ctrl-End":n.notify("move").cursor.insAtRightEnd(n.root);break;case"Shift-End":for(;i[1];)n.selectRight();break;case"Ctrl-Shift-End":for(;i[1]||i.parent!==n.root;)n.selectRight();break;case"Home":n.notify("move").cursor.insAtLeftEnd(i.parent);break;case"Ctrl-Home":n.notify("move").cursor.insAtLeftEnd(n.root);break;case"Shift-Home":for(;i[p];)n.selectLeft();break;case"Ctrl-Shift-Home":for(;i[p]||i.parent!==n.root;)n.selectLeft();break;case"Left":n.moveLeft();break;case"Shift-Left":n.selectLeft();break;case"Ctrl-Left":break;case"Right":n.moveRight();break;case"Shift-Right":n.selectRight();break;case"Ctrl-Right":break;case"Up":n.moveUp();break;case"Down":n.moveDown();break;case"Shift-Up":if(i[p])for(;i[p];)n.selectLeft();else n.selectLeft();case"Shift-Down":if(i[1])for(;i[1];)n.selectRight();else n.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":n.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":n.deleteForward();break;case"Meta-A":case"Ctrl-A":for(n.notify("move").cursor.insAtRightEnd(n.root);i[p];)n.selectLeft();break;default:return}e.preventDefault(),n.scrollHoriz()},t.moveOutOf=t.moveTowards=t.deleteOutOf=t.deleteTowards=t.unselectInto=t.selectOutOf=t.selectTowards=function(){d("overridden or never called on this node")}})),O.open((function(t){function e(t,e){var n=t.notify("upDown").cursor,i=e+"Into",r=e+"OutOf";return n[1][i]?n.insAtLeftEnd(n[1][i]):n[p][i]?n.insAtRightEnd(n[p][i]):n.parent.bubble((function(t){var e=t[r];if(e&&("function"==typeof e&&(e=t[r](n)),e instanceof y&&n.jumpUpDown(t,e),!0!==e))return!1})),t}this.onNotify((function(t){"move"!==t&&"upDown"!==t||this.show().clearSelection()})),t.escapeDir=function(t,e,n){m(t);var i=this.cursor;if(i.parent!==this.root&&n.preventDefault(),i.parent!==this.root)return i.parent.moveOutOf(t,i),this.notify("move")},E.leftRightIntoCmdGoes=function(t){if(t&&"up"!==t&&"down"!==t)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+t+'"';return t},t.moveDir=function(t){m(t);var e=this.cursor,n=e.options.leftRightIntoCmdGoes;return e.selection?e.insDirOf(t,e.selection.ends[t]):e[t]?e[t].moveTowards(t,e,n):e.parent.moveOutOf(t,e,n),this.notify("move")},t.moveLeft=function(){return this.moveDir(p)},t.moveRight=function(){return this.moveDir(1)},t.moveUp=function(){return e(this,"up")},t.moveDown=function(){return e(this,"down")},this.onNotify((function(t){"upDown"!==t&&(this.upDownCache={})})),this.onNotify((function(t){"edit"===t&&this.show().deleteSelection()})),t.deleteDir=function(t){m(t);var e=this.cursor,n=e.selection;return this.notify("edit"),n||(e[t]?e[t].deleteTowards(t,e):e.parent.deleteOutOf(t,e)),e[p].siblingDeleted&&e[p].siblingDeleted(e.options,1),e[1].siblingDeleted&&e[1].siblingDeleted(e.options,p),e.parent.bubble("reflow"),this},t.ctrlDeleteDir=function(t){m(t);var e=this.cursor;return!e[p]||e.selection?ctrlr.deleteDir():(this.notify("edit"),b(e.parent.ends[p],e[p]).remove(),e.insAtDirEnd(p,e.parent),e[p].siblingDeleted&&e[p].siblingDeleted(e.options,1),e[1].siblingDeleted&&e[1].siblingDeleted(e.options,p),e.parent.bubble("reflow"),this)},t.backspace=function(){return this.deleteDir(p)},t.deleteForward=function(){return this.deleteDir(1)},this.onNotify((function(t){"select"!==t&&this.endSelection()})),t.selectDir=function(t){var e=this.notify("select").cursor,n=e.selection;m(t),e.anticursor||e.startSelection();var i=e[t];i?n&&n.ends[t]===i&&e.anticursor[-t]!==i?i.unselectInto(t,e):i.selectTowards(t,e):e.parent.selectOutOf(t,e),e.clearSelection(),e.select()||e.show()},t.selectLeft=function(){return this.selectDir(p)},t.selectRight=function(){return this.selectDir(1)}}));var F=function(){function t(t){for(var e=t[0]||X(),n=1;n<t.length;n+=1)t[n].children().adopt(e,e.ends[1],0);return e}var e=Q.string,n=Q.regex,i=Q.letter,r=Q.any,s=Q.optWhitespace,o=Q.succeed,a=Q.fail,c=i.map((function(t){return nt(t)})),l=n(/^[^${}\\_^]/).map((function(t){return W(t)})),u=n(/^[^\\a-eg-zA-Z]/).or(e("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(r))).then((function(t){var e=w[t];return e?e(t).parser():a("unknown command: \\"+t)})).or(c).or(l),h=e("{").then((function(){return f})).skip(e("}")),d=s.then(h.or(u.map((function(t){var e=X();return t.adopt(e,0,0),e})))),f=d.many().map(t).skip(s),p=e("[").then(d.then((function(t){return"]"!==t.join("latex")?o(t):a()})).many().map(t).skip(s)).skip(e("]")),m=f;return m.block=d,m.optBlock=p,m}();O.open((function(t,e){t.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},t.writeLatex=function(t){var e=this.notify("edit").cursor,n=Q.all,i=Q.eof,r=F.skip(i).or(n.result(!1)).parse(t);return r&&!r.isEmpty()&&(r.children().adopt(e.parent,e[p],e[1]),r.jQize().insertBefore(e.jQ),e[p]=r.ends[1],r.finalizeInsert(e.options,e),r.ends[1][1].siblingCreated&&r.ends[1][1].siblingCreated(e.options,p),r.ends[p][p].siblingCreated&&r.ends[p][p].siblingCreated(e.options,1),e.parent.bubble("reflow")),this},t.renderLatexMath=function(t){var e=this.root,n=this.cursor,i=Q.all,r=Q.eof,s=F.skip(r).or(i.result(!1)).parse(t);e.eachChild("postOrder","dispose"),e.ends[p]=e.ends[1]=0,s&&s.children().adopt(e,0,0);var o=e.jQ;if(s){var a=s.join("html");o.html(a),e.jQize(o.children()),e.finalizeInsert(n.options)}else o.empty();delete n.selection,n.insAtRightEnd(e)},t.renderLatexText=function(t){var e=this.root,n=this.cursor;e.jQ.children().slice(1).remove(),e.eachChild("postOrder","dispose"),e.ends[p]=e.ends[1]=0,delete n.selection,n.show().insAtRightEnd(e);var i=Q.regex,r=Q.string,s=Q.eof,o=Q.all,a=r("$").then(F).skip(r("$").or(s)).map((function(t){var e=G(n);e.createBlocks();var i=e.ends[p];return t.children().adopt(i,0,0),e})),c=r("\\$").result("$").or(i(/^[^$]/)).map(W),l=a.or(c).many().skip(s).or(o.result(!1)).parse(t);if(l){for(var u=0;u<l.length;u+=1)l[u].adopt(e,e.ends[1],0);e.jQize().appendTo(e.jQ),e.finalizeInsert(n.options)}}})),O.open((function(e){e.delegateMouseEvents=function(){var e=this.root.jQ;this.container.bind("mousedown.mathquill",(function(n){var r,s=g(n.target).closest(".mq-root-block"),a=y.byId[s.attr(i)||e.attr(i)].controller,c=a.cursor,l=c.blink,u=a.textareaSpan,h=a.textarea;function d(t){r=g(t.target)}function f(e){c.anticursor||c.startSelection(),a.seek(r,e.pageX,e.pageY).cursor.select(),r=t}a.blurred&&(a.editable||s.prepend(u),h.focus()),n.preventDefault(),n.target.unselectable=!0,c.blink=o,a.seek(g(n.target),n.pageX,n.pageY).cursor.startSelection(),s.mousemove(d),g(n.target.ownerDocument).mousemove(f).mouseup((function t(e){c.blink=l,c.selection||(a.editable?c.show():u.detach()),s.unbind("mousemove",d),g(e.target.ownerDocument).unbind("mousemove",f).unbind("mouseup",t)}))}))}})),O.open((function(t){t.seek=function(t,e,r){var s=this.notify("select").cursor;if(t){var o=t.attr(i)||t.attr(n);if(!o){var a=t.parent();o=a.attr(i)||a.attr(n)}}var c=o?y.byId[o]:this.root;return d("nodeId is the id of some Node that exists",c),s.clearSelection().show(),c.seek(e,s),this.scrollHoriz(),this}})),O.open((function(t){t.scrollHoriz=function(){var t=this.cursor,e=t.selection,n=this.root.jQ[0].getBoundingClientRect();if(e){var i=e.jQ[0].getBoundingClientRect(),r=i.left-(n.left+20),s=i.right-(n.right-20);if(e.ends[p]===t[1])if(r<0)a=r;else{if(!(s>0))return;a=i.left-s<n.left+20?r:s}else if(s>0)a=s;else{if(!(r<0))return;a=i.right-r>n.right-20?s:r}}else{var o=t.jQ[0].getBoundingClientRect().left;if(o>n.right-20)var a=o-(n.right-20);else{if(!(o<n.left+20))return;a=o-(n.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+a},100)}})),O.open((function(e){q.p.substituteTextarea=function(){return g("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},e.createTextarea=function(){var t=this.textareaSpan=g('<span class="mq-textarea"></span>'),e=this.options.substituteTextarea();if(!e.nodeType)throw"substituteTextarea() must return a DOM element, got "+e;e=this.textarea=g(e).appendTo(t);var n=this;n.cursor.selectionChanged=function(){n.selectionChanged()},n.container.bind("copy",(function(){n.setTextareaSelection()}))},e.selectionChanged=function(){var e=this;vt(e.container[0]),e.textareaSelectionTimeout===t&&(e.textareaSelectionTimeout=setTimeout((function(){e.setTextareaSelection()})))},e.setTextareaSelection=function(){this.textareaSelectionTimeout=t;var e="";this.cursor.selection&&(e=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(e="$"+e+"$")),this.selectFn(e)},e.staticMathTextareaEvents=function(){var t=this,e=(t.root,t.cursor),n=t.textarea,i=t.textareaSpan;function r(){i.detach(),t.blurred=!0}this.container.prepend('<span class="mq-selectable">$'+t.exportLatex()+"$</span>"),t.blurred=!0,n.bind("cut paste",!1).focus((function(){t.blurred=!1})).blur((function(){e.selection&&e.selection.clear(),setTimeout(r)})),t.selectFn=function(t){n.val(t),t&&n.select()}},e.editablesTextareaEvents=function(){var t=this,e=(t.root,t.cursor),n=t.textarea,i=t.textareaSpan,r=B(n,this);this.selectFn=function(t){r.select(t)},this.container.prepend(i).on("cut",(function(n){e.selection&&setTimeout((function(){t.notify("edit"),e.parent.bubble("reflow")}))})),this.focusBlurEvents()},e.typedText=function(t){if("\n"===t)return this.handle("enter");var e=this.notify().cursor;e.parent.write(e,t),this.scrollHoriz()},e.paste=function(t){this.options.statelessClipboard&&(t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}"),this.writeLatex(t).cursor.show()}}));var z=f(y,(function(t,e){t.finalizeInsert=function(t,e){var n=this;n.postOrder("finalizeTree",t),n.postOrder("contactWeld",e),n.postOrder("blur"),n.postOrder("reflow"),n[1].siblingCreated&&n[1].siblingCreated(t,p),n[p].siblingCreated&&n[p].siblingCreated(t,1),n.bubble("reflow")}})),H=f(z,(function(t,e){t.init=function(t,n,i){var r=this;e.init.call(r),r.ctrlSeq||(r.ctrlSeq=t),n&&(r.htmlTemplate=n),i&&(r.textTemplate=i)},t.replaces=function(t){t.disown(),this.replacedFragment=t},t.isEmpty=function(){return this.foldChildren(!0,(function(t,e){return t&&e.isEmpty()}))},t.parser=function(){var t=F.block,e=this;return t.times(e.numBlocks()).map((function(t){e.blocks=t;for(var n=0;n<t.length;n+=1)t[n].adopt(e,e.ends[1],0);return e}))},t.createLeftOf=function(t){var n=this,i=n.replacedFragment;n.createBlocks(),e.createLeftOf.call(n,t),i&&(i.adopt(n.ends[p],0,0),i.jQ.appendTo(n.ends[p].jQ)),n.finalizeInsert(t.options),n.placeCursor(t)},t.createBlocks=function(){for(var t=this,e=t.numBlocks(),n=t.blocks=Array(e),i=0;i<e;i+=1)(n[i]=X()).adopt(t,t.ends[1],0)},t.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.ends[p],(function(t,e){return t.isEmpty()?t:e})))},t.moveTowards=function(t,e,n){var i=n&&this[n+"Into"];e.insAtDirEnd(-t,i||this.ends[-t])},t.deleteTowards=function(t,e){this.isEmpty()?e[t]=this.remove()[t]:this.moveTowards(t,e,null)},t.selectTowards=function(t,e){e[-t]=this,e[t]=this[t]},t.selectChildren=function(){return C(this,this)},t.unselectInto=function(t,e){e.insAtDirEnd(-t,e.anticursor.ancestors[this.id])},t.seek=function(t,e){function n(t){var e={};return e[p]=t.jQ.offset().left,e[1]=e[p]+t.jQ.outerWidth(),e}var i=this,r=n(i);if(t<r[p])return e.insLeftOf(i);if(t>r[1])return e.insRightOf(i);var s=r[p];i.eachChild((function(o){var a=n(o);return t<a[p]?(t-s<a[p]-t?o[p]?e.insAtRightEnd(o[p]):e.insLeftOf(i):e.insAtLeftEnd(o),!1):t>a[1]?void(o[1]?s=a[1]:r[1]-t<t-a[1]?e.insRightOf(i):e.insAtRightEnd(o)):(o.seek(t,e),!1)}))},t.numBlocks=function(){var t=this.htmlTemplate.match(/&\d+/g);return t?t.length:0},t.html=function(){var t=this,e=t.blocks,n=" mathquill-command-id="+t.id,i=t.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);d("no unmatched angle brackets",i.join("")===this.htmlTemplate);for(var r=0,s=i[0];s;s=i[r+=1])if("/>"===s.slice(-2))i[r]=s.slice(0,-2)+n+"/>";else if("<"===s.charAt(0)){d("not an unmatched top-level close tag","/"!==s.charAt(1)),i[r]=s.slice(0,-1)+n+">";var o=1;do{d("no missing close tags",s=i[r+=1]),"</"===s.slice(0,2)?o-=1:"<"===s.charAt(0)&&"/>"!==s.slice(-2)&&(o+=1)}while(o>0)}return i.join("").replace(/>&(\d+)/g,(function(t,n){return" mathquill-block-id="+e[n].id+">"+e[n].join("html")}))},t.latex=function(){return this.foldChildren(this.ctrlSeq,(function(t,e){return t+"{"+(e.latex()||" ")+"}"}))},t.textTemplate=[""],t.text=function(){var t=this,e=0;return t.foldChildren(t.textTemplate[e],(function(n,i){e+=1;var r=i.text();return n&&"("===t.textTemplate[e]&&"("===r[0]&&")"===r.slice(-1)?n+r.slice(1,-1)+t.textTemplate[e]:n+i.text()+(t.textTemplate[e]||"")}))}})),U=f(H,(function(t,e){t.init=function(t,n,i){i||(i=t&&t.length>1?t.slice(1):t),e.init.call(this,t,n,[i])},t.parser=function(){return Q.succeed(this)},t.numBlocks=function(){return 0},t.replaces=function(t){t.remove()},t.createBlocks=o,t.moveTowards=function(t,e){e.jQ.insDirOf(t,this.jQ),e[-t]=this,e[t]=this[t]},t.deleteTowards=function(t,e){e[t]=this.remove()[t]},t.seek=function(t,e){t-this.jQ.offset().left<this.jQ.outerWidth()/2?e.insLeftOf(this):e.insRightOf(this)},t.latex=function(){return this.ctrlSeq},t.text=function(){return this.textTemplate},t.placeCursor=o,t.isEmpty=function(){return!0}})),W=f(U,(function(t,e){t.init=function(t,n){e.init.call(this,t,"<span>"+(n||t)+"</span>")}})),$=f(U,(function(t,e){t.init=function(t,n,i){e.init.call(this,t,'<span class="mq-binary-operator">'+n+"</span>",i)}})),X=f(z,(function(t,e){t.join=function(t){return this.foldChildren("",(function(e,n){return e+n[t]()}))},t.html=function(){return this.join("html")},t.latex=function(){return this.join("latex")},t.text=function(){return this.ends[p]===this.ends[1]&&0!==this.ends[p]?this.ends[p].text():this.join("text")},t.keystroke=function(t,n,i){return!i.options.spaceBehavesLikeTab||"Spacebar"!==t&&"Shift-Spacebar"!==t?e.keystroke.apply(this,arguments):(n.preventDefault(),void i.escapeDir("Shift-Spacebar"===t?p:1,t,n))},t.moveOutOf=function(t,e,n){n&&this.parent[n+"Into"]||!this[t]?e.insDirOf(t,this.parent):e.insAtDirEnd(-t,this[t])},t.selectOutOf=function(t,e){e.insDirOf(t,this.parent)},t.deleteOutOf=function(t,e){e.unwrapGramp()},t.seek=function(t,e){var n=this.ends[1];if(!n||n.jQ.offset().left+n.jQ.outerWidth()<t)return e.insAtRightEnd(this);if(t<this.ends[p].jQ.offset().left)return e.insAtLeftEnd(this);for(;t<n.jQ.offset().left;)n=n[p];return n.seek(t,e)},t.chToCmd=function(t){var e;return t.match(/^[a-eg-zA-Z]$/)?nt(t):/^\d$/.test(t)?tt(t):(e=T[t]||w[t])?e(t):W(t)},t.write=function(t,e){var n=this.chToCmd(e);t.selection&&n.replaces(t.replaceSelection()),n.createLeftOf(t.show())},t.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},t.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}}));k.StaticMath=function(t){return f(t.AbstractMathQuill,(function(e,n){this.RootBlock=X,e.__mathquillify=function(){return n.__mathquillify.call(this,"mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},e.init=function(){n.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.MathField)},e.latex=function(){var e=n.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],t.MathField),e}}))};var Y=f(X,I);k.MathField=function(t){return f(t.EditableField,(function(t,e){this.RootBlock=Y,t.__mathquillify=function(t,n){return this.config(t),n>1&&(this.__controller.root.reflow=o),e.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}}))};var V=f(y,(function(t,e){function n(t){t.jQ[0].normalize();var e=t.jQ[0].firstChild;d("only node in TextBlock span is Text node",3===e.nodeType);var n=Z(e.data);return n.jQadd(e),t.children().disown(),n.adopt(t,0,0)}t.ctrlSeq="\\text",t.replaces=function(t){t instanceof b?this.replacedText=t.remove().jQ.text():"string"==typeof t&&(this.replacedText=t)},t.jQadd=function(t){e.jQadd.call(this,t),this.ends[p]&&this.ends[p].jQadd(this.jQ[0].firstChild)},t.createLeftOf=function(t){var n=this;if(e.createLeftOf.call(this,t),n[1].siblingCreated&&n[1].siblingCreated(t.options,p),n[p].siblingCreated&&n[p].siblingCreated(t.options,1),n.bubble("reflow"),t.insAtRightEnd(n),n.replacedText)for(var i=0;i<n.replacedText.length;i+=1)n.write(t,n.replacedText.charAt(i))},t.parser=function(){var t=this,e=Q.string,n=Q.regex;return Q.optWhitespace.then(e("{")).then(n(/^[^}]*/)).skip(e("}")).map((function(e){return Z(e).adopt(t,0,0),t}))},t.textContents=function(){return this.foldChildren("",(function(t,e){return t+e.text}))},t.text=function(){return'"'+this.textContents()+'"'},t.latex=function(){return"\\text{"+this.textContents()+"}"},t.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},t.moveTowards=function(t,e){e.insAtDirEnd(-t,this)},t.moveOutOf=function(t,e){e.insDirOf(t,this)},t.unselectInto=t.moveTowards,t.selectTowards=H.prototype.selectTowards,t.deleteTowards=H.prototype.deleteTowards,t.selectOutOf=function(t,e){e.insDirOf(t,this)},t.deleteOutOf=function(t,e){this.isEmpty()&&e.insRightOf(this)},t.write=function(t,n){if(t.show().deleteSelection(),"$"!==n)t[p]?t[p].appendText(n):Z(n).createLeftOf(t);else if(this.isEmpty())t.insRightOf(this),W("\\$","$").createLeftOf(t);else if(t[1])if(t[p]){var i=V(),r=this.ends[p];r.disown(),r.adopt(i,0,0),t.insLeftOf(this),e.createLeftOf.call(i,t)}else t.insLeftOf(this);else t.insRightOf(this)},t.seek=function(t,e){e.hide();var i=n(this),r=this.jQ.width()/this.text.length,s=Math.round((t-this.jQ.offset().left)/r);s<=0?e.insAtLeftEnd(this):s>=i.text.length?e.insAtRightEnd(this):e.insLeftOf(i.splitRight(s));for(var o=t-e.show().offset().left,a=o&&o<0?p:1,c=a;e[a]&&o*c>0;)e[a].moveTowards(a,e),c=o,o=t-e.offset().left;if(a*o<-a*c&&e[-a].moveTowards(-a,e),e.anticursor){if(e.anticursor.parent===this){var l=e[p]&&e[p].text.length;if(this.anticursorPosition===l)e.anticursor=v.copy(e);else{if(this.anticursorPosition<l){var u=e[p].splitRight(this.anticursorPosition);e[p]=u}else u=e[1].splitRight(this.anticursorPosition-l);e.anticursor=v(this,u[p],u)}}}else this.anticursorPosition=e[p]&&e[p].text.length},t.blur=function(){X.prototype.blur.call(this),n(this)},t.focus=X.prototype.focus})),Z=f(y,(function(t,e){function n(t,e){return e.charAt(t===p?0:-1+e.length)}t.init=function(t){e.init.call(this),this.text=t},t.jQadd=function(t){this.dom=t,this.jQ=g(t)},t.jQize=function(){return this.jQadd(document.createTextNode(this.text))},t.appendText=function(t){this.text+=t,this.dom.appendData(t)},t.prependText=function(t){this.text=t+this.text,this.dom.insertData(0,t)},t.insTextAtDirEnd=function(t,e){m(e),1===e?this.appendText(t):this.prependText(t)},t.splitRight=function(t){var e=Z(this.text.slice(t)).adopt(this.parent,this,this[1]);return e.jQadd(this.dom.splitText(t)),this.text=this.text.slice(0,t),e},t.moveTowards=function(t,e){m(t);var i=n(-t,this.text),r=this[-t];return r?r.insTextAtDirEnd(i,t):Z(i).createDir(-t,e),this.deleteTowards(t,e)},t.latex=function(){return this.text},t.deleteTowards=function(t,e){this.text.length>1?1===t?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),e[t]=this[t])},t.selectTowards=function(t,e){m(t);var i=e.anticursor,r=n(-t,this.text);if(i[t]===this){var s=Z(r).createDir(t,e);i[t]=s,e.insDirOf(t,s)}else{var o=this[-t];o?o.insTextAtDirEnd(r,t):(s=Z(r).createDir(-t,e)).jQ.insDirOf(-t,e.selection.jQ),1===this.text.length&&i[-t]===this&&(i[-t]=this[-t])}return this.deleteTowards(t,e)}}));function K(t,e,n){return f(V,{ctrlSeq:t,htmlTemplate:"<"+e+" "+n+">&0</"+e+">"})}T.$=w.text=w.textnormal=w.textrm=w.textup=w.textmd=V,w.em=w.italic=w.italics=w.emph=w.textit=w.textsl=K("\\textit","i",'class="mq-text-mode"'),w.strong=w.bold=w.textbf=K("\\textbf","b",'class="mq-text-mode"'),w.sf=w.textsf=K("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),w.tt=w.texttt=K("\\texttt","span",'class="mq-monospace mq-text-mode"'),w.textsc=K("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),w.uppercase=K("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),w.lowercase=K("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var G=f(H,(function(t,e){t.init=function(t){e.init.call(this,"$"),this.cursor=t},t.htmlTemplate='<span class="mq-math-mode">&0</span>',t.createBlocks=function(){e.createBlocks.call(this),this.ends[p].cursor=this.cursor,this.ends[p].write=function(t,e){"$"!==e?X.prototype.write.call(this,t,e):this.isEmpty()?(t.insRightOf(this.parent),this.parent.deleteTowards(dir,t),W("\\$","$").createLeftOf(t.show())):t[1]?t[p]?X.prototype.write.call(this,t,e):t.insLeftOf(this.parent):t.insRightOf(this.parent)}},t.latex=function(){return"$"+this.ends[p].latex()+"$"}})),J=f(Y,(function(t,e){t.keystroke=function(t){if("Spacebar"!==t&&"Shift-Spacebar"!==t)return e.keystroke.apply(this,arguments)},t.write=function(t,e){var n;t.show().deleteSelection(),"$"===e?G(t).createLeftOf(t):("<"===e?n="&lt;":">"===e&&(n="&gt;"),W(e,n).createLeftOf(t))}}));k.TextField=function(t){return f(t.EditableField,(function(t,e){this.RootBlock=J,t.__mathquillify=function(){return e.__mathquillify.call(this,"mq-editable-field mq-text-mode")},t.latex=function(t){return arguments.length>0?(this.__controller.renderLatexText(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}}))},T["\\"]=f(H,(function(t,e){t.ctrlSeq="\\",t.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},t.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',t.textTemplate=["\\"],t.createBlocks=function(){e.createBlocks.call(this),this.ends[p].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[p].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[p].write=function(t,e){t.show().deleteSelection(),e.match(/[a-z]/i)?W(e).createLeftOf(t):(this.parent.renderCommand(t),"\\"===e&&this.isEmpty()||this.parent.parent.write(t,e))},this.ends[p].keystroke=function(t,n,i){return"Tab"===t||"Enter"===t||"Spacebar"===t?(this.parent.renderCommand(i.cursor),void n.preventDefault()):e.keystroke.apply(this,arguments)}},t.createLeftOf=function(t){if(e.createLeftOf.call(this,t),this._replacedFragment){var n=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",(function(t){return g(t.target=n).trigger(t),!1})).insertBefore(this.jQ).add(this.jQ)}},t.latex=function(){return"\\"+this.ends[p].latex()+" "},t.renderCommand=function(t){this.jQ=this.jQ.last(),this.remove(),this[1]?t.insLeftOf(this[1]):t.insAtRightEnd(this.parent);var e=this.ends[p].latex();e||(e=" ");var n=w[e];n?(n=n(e),this._replacedFragment&&n.replaces(this._replacedFragment),n.createLeftOf(t)):((n=V()).replaces(e),n.createLeftOf(t),t.insRightOf(n),this._replacedFragment&&this._replacedFragment.remove())}})),w.notin=w.cong=w.equiv=w.oplus=w.otimes=f($,(function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}})),w["≠"]=w.ne=w.neq=h($,"\\ne ","&ne;"),w.ast=w.star=w.loast=w.lowast=h($,"\\ast ","&lowast;"),w.therefor=w.therefore=h($,"\\therefore ","&there4;"),w.cuz=w.because=h($,"\\because ","&#8757;"),w.prop=w.propto=h($,"\\propto ","&prop;"),w["≈"]=w.asymp=w.approx=h($,"\\approx ","&asymp;"),w.isin=w.in=h($,"\\in ","&isin;"),w.ni=w.contains=h($,"\\ni ","&ni;"),w.notni=w.niton=w.notcontains=w.doesnotcontain=h($,"\\not\\ni ","&#8716;"),w.sub=w.subset=h($,"\\subset ","&sub;"),w.sup=w.supset=w.superset=h($,"\\supset ","&sup;"),w.nsub=w.notsub=w.nsubset=w.notsubset=h($,"\\not\\subset ","&#8836;"),w.nsup=w.notsup=w.nsupset=w.notsupset=w.nsuperset=w.notsuperset=h($,"\\not\\supset ","&#8837;"),w.sube=w.subeq=w.subsete=w.subseteq=h($,"\\subseteq ","&sube;"),w.supe=w.supeq=w.supsete=w.supseteq=w.supersete=w.superseteq=h($,"\\supseteq ","&supe;"),w.nsube=w.nsubeq=w.notsube=w.notsubeq=w.nsubsete=w.nsubseteq=w.notsubsete=w.notsubseteq=h($,"\\not\\subseteq ","&#8840;"),w.nsupe=w.nsupeq=w.notsupe=w.notsupeq=w.nsupsete=w.nsupseteq=w.notsupsete=w.notsupseteq=w.nsupersete=w.nsuperseteq=w.notsupersete=w.notsuperseteq=h($,"\\not\\supseteq ","&#8841;"),w.N=w.naturals=w.Naturals=h(W,"\\mathbb{N}","&#8469;"),w.P=w.primes=w.Primes=w.projective=w.Projective=w.probability=w.Probability=h(W,"\\mathbb{P}","&#8473;"),w.Z=w.integers=w.Integers=h(W,"\\mathbb{Z}","&#8484;"),w.Q=w.rationals=w.Rationals=h(W,"\\mathbb{Q}","&#8474;"),w.R=w.reals=w.Reals=h(W,"\\mathbb{R}","&#8477;"),w.C=w.complex=w.Complex=w.complexes=w.Complexes=w.complexplane=w.Complexplane=w.ComplexPlane=h(W,"\\mathbb{C}","&#8450;"),w.H=w.Hamiltonian=w.quaternions=w.Quaternions=h(W,"\\mathbb{H}","&#8461;"),w.quad=w.emsp=h(W,"\\quad ","    "),w.qquad=h(W,"\\qquad ","        "),w.diamond=h(W,"\\diamond ","&#9671;"),w.bigtriangleup=h(W,"\\bigtriangleup ","&#9651;"),w.ominus=h(W,"\\ominus ","&#8854;"),w.uplus=h(W,"\\uplus ","&#8846;"),w.bigtriangledown=h(W,"\\bigtriangledown ","&#9661;"),w.sqcap=h(W,"\\sqcap ","&#8851;"),w.triangleleft=h(W,"\\triangleleft ","&#8882;"),w.sqcup=h(W,"\\sqcup ","&#8852;"),w.triangleright=h(W,"\\triangleright ","&#8883;"),w.odot=w.circledot=h(W,"\\odot ","&#8857;"),w.bigcirc=h(W,"\\bigcirc ","&#9711;"),w.dagger=h(W,"\\dagger ","&#0134;"),w.ddagger=h(W,"\\ddagger ","&#135;"),w.wr=h(W,"\\wr ","&#8768;"),w.amalg=h(W,"\\amalg ","&#8720;"),w.models=h(W,"\\models ","&#8872;"),w.prec=h(W,"\\prec ","&#8826;"),w.succ=h(W,"\\succ ","&#8827;"),w.preceq=h(W,"\\preceq ","&#8828;"),w.succeq=h(W,"\\succeq ","&#8829;"),w.simeq=h(W,"\\simeq ","&#8771;"),w.mid=h(W,"\\mid ","&#8739;"),w.ll=h(W,"\\ll ","&#8810;"),w.gg=h(W,"\\gg ","&#8811;"),w.parallel=h(W,"\\parallel ","&#8741;"),w.nparallel=h(W,"\\nparallel ","&#8742;"),w.bowtie=h(W,"\\bowtie ","&#8904;"),w.sqsubset=h(W,"\\sqsubset ","&#8847;"),w.sqsupset=h(W,"\\sqsupset ","&#8848;"),w.smile=h(W,"\\smile ","&#8995;"),w.sqsubseteq=h(W,"\\sqsubseteq ","&#8849;"),w.sqsupseteq=h(W,"\\sqsupseteq ","&#8850;"),w.doteq=h(W,"\\doteq ","&#8784;"),w.frown=h(W,"\\frown ","&#8994;"),w.vdash=h(W,"\\vdash ","&#8870;"),w.dashv=h(W,"\\dashv ","&#8867;"),w.nless=h(W,"\\nless ","&#8814;"),w.ngtr=h(W,"\\ngtr ","&#8815;"),w.longleftarrow=h(W,"\\longleftarrow ","&#8592;"),w.longrightarrow=h(W,"\\longrightarrow ","&#8594;"),w.Longleftarrow=h(W,"\\Longleftarrow ","&#8656;"),w.Longrightarrow=h(W,"\\Longrightarrow ","&#8658;"),w.longleftrightarrow=h(W,"\\longleftrightarrow ","&#8596;"),w.updownarrow=h(W,"\\updownarrow ","&#8597;"),w.Longleftrightarrow=h(W,"\\Longleftrightarrow ","&#8660;"),w.Updownarrow=h(W,"\\Updownarrow ","&#8661;"),w.mapsto=h(W,"\\mapsto ","&#8614;"),w.nearrow=h(W,"\\nearrow ","&#8599;"),w.hookleftarrow=h(W,"\\hookleftarrow ","&#8617;"),w.hookrightarrow=h(W,"\\hookrightarrow ","&#8618;"),w.searrow=h(W,"\\searrow ","&#8600;"),w.leftharpoonup=h(W,"\\leftharpoonup ","&#8636;"),w.rightharpoonup=h(W,"\\rightharpoonup ","&#8640;"),w.swarrow=h(W,"\\swarrow ","&#8601;"),w.leftharpoondown=h(W,"\\leftharpoondown ","&#8637;"),w.rightharpoondown=h(W,"\\rightharpoondown ","&#8641;"),w.nwarrow=h(W,"\\nwarrow ","&#8598;"),w.ldots=h(W,"\\ldots ","&#8230;"),w.cdots=h(W,"\\cdots ","&#8943;"),w.vdots=h(W,"\\vdots ","&#8942;"),w.ddots=h(W,"\\ddots ","&#8945;"),w.surd=h(W,"\\surd ","&#8730;"),w.triangle=h(W,"\\triangle ","&#9651;"),w.ell=h(W,"\\ell ","&#8467;"),w.top=h(W,"\\top ","&#8868;"),w.flat=h(W,"\\flat ","&#9837;"),w.natural=h(W,"\\natural ","&#9838;"),w.sharp=h(W,"\\sharp ","&#9839;"),w.wp=h(W,"\\wp ","&#8472;"),w.bot=h(W,"\\bot ","&#8869;"),w.clubsuit=h(W,"\\clubsuit ","&#9827;"),w.diamondsuit=h(W,"\\diamondsuit ","&#9826;"),w.heartsuit=h(W,"\\heartsuit ","&#9825;"),w.spadesuit=h(W,"\\spadesuit ","&#9824;"),w.parallelogram=h(W,"\\parallelogram ","&#9649;"),w.square=h(W,"\\square ","&#11036;"),w.oint=h(W,"\\oint ","&#8750;"),w.bigcap=h(W,"\\bigcap ","&#8745;"),w.bigcup=h(W,"\\bigcup ","&#8746;"),w.bigsqcup=h(W,"\\bigsqcup ","&#8852;"),w.bigvee=h(W,"\\bigvee ","&#8744;"),w.bigwedge=h(W,"\\bigwedge ","&#8743;"),w.bigodot=h(W,"\\bigodot ","&#8857;"),w.bigotimes=h(W,"\\bigotimes ","&#8855;"),w.bigoplus=h(W,"\\bigoplus ","&#8853;"),w.biguplus=h(W,"\\biguplus ","&#8846;"),w.lfloor=h(W,"\\lfloor ","&#8970;"),w.rfloor=h(W,"\\rfloor ","&#8971;"),w.lceil=h(W,"\\lceil ","&#8968;"),w.rceil=h(W,"\\rceil ","&#8969;"),w.opencurlybrace=w.lbrace=h(W,"\\lbrace ","{"),w.closecurlybrace=w.rbrace=h(W,"\\rbrace ","}"),w.lbrack=h(W,"["),w.rbrack=h(W,"]"),w["∫"]=w.int=w.integral=h(U,"\\int ","<big>&int;</big>"),w.slash=h(W,"/"),w.vert=h(W,"|"),w.perp=w.perpendicular=h(W,"\\perp ","&perp;"),w.nabla=w.del=h(W,"\\nabla ","&nabla;"),w.hbar=h(W,"\\hbar ","&#8463;"),w.AA=w.Angstrom=w.angstrom=h(W,"\\text\\AA ","&#8491;"),w.ring=w.circ=w.circle=h(W,"\\circ ","&#8728;"),w.bull=w.bullet=h(W,"\\bullet ","&bull;"),w.setminus=w.smallsetminus=h(W,"\\setminus ","&#8726;"),w.not=w["¬"]=w.neg=h(W,"\\neg ","&not;"),w["…"]=w.dots=w.ellip=w.hellip=w.ellipsis=w.hellipsis=h(W,"\\dots ","&hellip;"),w.converges=w.darr=w.dnarr=w.dnarrow=w.downarrow=h(W,"\\downarrow ","&darr;"),w.dArr=w.dnArr=w.dnArrow=w.Downarrow=h(W,"\\Downarrow ","&dArr;"),w.diverges=w.uarr=w.uparrow=h(W,"\\uparrow ","&uarr;"),w.uArr=w.Uparrow=h(W,"\\Uparrow ","&uArr;"),w.to=h($,"\\to ","&rarr;"),w.rarr=w.rightarrow=h(W,"\\rightarrow ","&rarr;"),w.implies=h($,"\\Rightarrow ","&rArr;"),w.rArr=w.Rightarrow=h(W,"\\Rightarrow ","&rArr;"),w.gets=h($,"\\gets ","&larr;"),w.larr=w.leftarrow=h(W,"\\leftarrow ","&larr;"),w.impliedby=h($,"\\Leftarrow ","&lArr;"),w.lArr=w.Leftarrow=h(W,"\\Leftarrow ","&lArr;"),w.harr=w.lrarr=w.leftrightarrow=h(W,"\\leftrightarrow ","&harr;"),w.iff=h($,"\\Leftrightarrow ","&hArr;"),w.hArr=w.lrArr=w.Leftrightarrow=h(W,"\\Leftrightarrow ","&hArr;"),w.Re=w.Real=w.real=h(W,"\\Re ","&real;"),w.Im=w.imag=w.image=w.imagin=w.imaginary=w.Imaginary=h(W,"\\Im ","&image;"),w.part=w.partial=h(W,"\\partial ","&part;"),w.infty=w.infin=w.infinity=h(W,"\\infty ","&infin;"),w.alef=w.alefsym=w.aleph=w.alephsym=h(W,"\\aleph ","&alefsym;"),w.xist=w.xists=w.exist=w.exists=h(W,"\\exists ","&exist;"),w.and=w.land=w.wedge=h(W,"\\wedge ","&and;"),w.or=w.lor=w.vee=h(W,"\\vee ","&or;"),w.o=w.O=w.empty=w.emptyset=w.oslash=w.Oslash=w.nothing=w.varnothing=h($,"\\varnothing ","&empty;"),w.cup=w.union=h($,"\\cup ","&cup;"),w.cap=w.intersect=w.intersection=h($,"\\cap ","&cap;"),w.deg=w.degree=h(W,"\\degree ","&deg;"),w.ang=w.angle=h(W,"\\angle ","&ang;"),w.measuredangle=h(W,"\\measuredangle ","&#8737;");var tt=f(W,(function(t,e){t.createLeftOf=function(t){t.options.autoSubscriptNumerals&&t.parent!==t.parent.parent.sub&&(t[p]instanceof et&&!1!==t[p].isItalic||t[p]instanceof wt&&t[p][p]instanceof et&&!1!==t[p][p].isItalic)?(w._().createLeftOf(t),e.createLeftOf.call(this,t),t.insRightOf(t.parent.parent)):e.createLeftOf.call(this,t)}})),et=f(U,(function(t,e){t.init=function(t,n){e.init.call(this,t,"<var>"+(n||t)+"</var>")},t.text=function(){var t=this.ctrlSeq;return!this[p]||this[p]instanceof et||this[p]instanceof $||"\\ "===this[p].ctrlSeq||(t="*"+t),!this[1]||this[1]instanceof $||this[1]instanceof wt||(t+="*"),t}}));q.p.autoCommands={_maxLength:0},E.autoCommands=function(t){if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),n={},i=0,r=0;r<e.length;r+=1){var o=e[r];if(o.length<2)throw'autocommand "'+o+'" not minimum length of 2';if(w[o]===ot)throw'"'+o+'" is a built-in operator name';n[o]=1,i=s(i,o.length)}return n._maxLength=i,n};var nt=f(et,(function(t,e){function n(t){return t instanceof U&&!(t instanceof $)}t.init=function(t){return e.init.call(this,this.letter=t)},t.createLeftOf=function(t){var n=t.options.autoCommands,i=n._maxLength;if(i>0){for(var r=this.letter,s=t[p],o=1;s instanceof nt&&o<i;)r=s.letter+r,s=s[p],o+=1;for(;r.length;){if(n.hasOwnProperty(r)){for(o=2,s=t[p];o<r.length;o+=1,s=s[p]);return b(s,t[p]).remove(),t[p]=s[p],w[r](r).createLeftOf(t)}r=r.slice(1)}}e.createLeftOf.apply(this,arguments)},t.italicize=function(t){return this.isItalic=t,this.jQ.toggleClass("mq-operator-name",!t),this},t.finalizeTree=t.siblingDeleted=t.siblingCreated=function(t,e){e!==p&&this[1]instanceof nt||this.autoUnItalicize(t)},t.autoUnItalicize=function(t){var e=t.autoOperatorNames;if(0!==e._maxLength){for(var i=this.letter,s=this[p];s instanceof nt;s=s[p])i=s.letter+i;for(var o=this[1];o instanceof nt;o=o[1])i+=o.letter;b(s[1]||this.parent.ends[p],o[p]||this.parent.ends[1]).each((function(t){t.italicize(!0).jQ.removeClass("mq-first mq-last"),t.ctrlSeq=t.letter}));t:for(var a=0,c=s[1]||this.parent.ends[p];a<i.length;a+=1,c=c[1])for(var l=r(e._maxLength,i.length-a);l>0;l-=1){var u=i.slice(a,a+l);if(e.hasOwnProperty(u)){for(var h=0,d=c;h<l;h+=1,d=d[1]){d.italicize(!1);var f=d}var m=it.hasOwnProperty(u);c.ctrlSeq=(m?"\\":"\\operatorname{")+c.ctrlSeq,f.ctrlSeq+=m?" ":"}",st.hasOwnProperty(u)&&f[p][p][p].jQ.addClass("mq-last"),n(c[p])&&c.jQ.addClass("mq-first"),n(f[1])&&f.jQ.addClass("mq-last"),a+=l-1,c=f;continue t}}}}})),it={},rt=q.p.autoOperatorNames={_maxLength:9},st={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var t="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),e=0;e<t.length;e+=1)it[t[e]]=rt[t[e]]=1;var n="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(e=0;e<n.length;e+=1)it[n[e]]=1;var i="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(e=0;e<i.length;e+=1)rt[i[e]]=rt["arc"+i[e]]=rt[i[e]+"h"]=rt["ar"+i[e]+"h"]=rt["arc"+i[e]+"h"]=1;var r="gcf hcf lcm proj span".split(" ");for(e=0;e<r.length;e+=1)rt[r[e]]=1}(),E.autoOperatorNames=function(t){if(!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),n={},i=0,r=0;r<e.length;r+=1){var o=e[r];if(o.length<2)throw'"'+o+'" not minimum length of 2';n[o]=1,i=s(i,o.length)}return n._maxLength=i,n};var ot=f(U,(function(t,e){t.init=function(t){this.ctrlSeq=t},t.createLeftOf=function(t){for(var e=this.ctrlSeq,n=0;n<e.length;n+=1)nt(e.charAt(n)).createLeftOf(t)},t.parser=function(){for(var t=this.ctrlSeq,e=X(),n=0;n<t.length;n+=1)nt(t.charAt(n)).adopt(e,e.ends[1],0);return Q.succeed(e.children())}}));for(var at in rt)rt.hasOwnProperty(at)&&(w[at]=ot);w.operatorname=f(H,(function(t){t.createLeftOf=o,t.numBlocks=function(){return 1},t.parser=function(){return F.block.map((function(t){return t.children()}))}})),w.f=f(nt,(function(t,e){t.init=function(){U.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},t.italicize=function(t){return this.jQ.html("f").toggleClass("mq-f",t),e.italicize.apply(this,arguments)}})),w[" "]=w.space=h(W,"\\ ","&nbsp;"),w["'"]=w.prime=h(W,"'","&prime;"),w.backslash=h(W,"\\backslash ","\\"),T["\\"]||(T["\\"]=w.backslash),w.$=h(W,"\\$","$");var ct=f(U,(function(t,e){t.init=function(t,n){e.init.call(this,t,'<span class="mq-nonSymbola">'+(n||t)+"</span>")}}));w["@"]=ct,w["&"]=h(ct,"\\&","&amp;"),w["%"]=h(ct,"\\%","%"),w.alpha=w.beta=w.gamma=w.delta=w.zeta=w.eta=w.theta=w.iota=w.kappa=w.mu=w.nu=w.xi=w.rho=w.sigma=w.tau=w.chi=w.psi=w.omega=f(et,(function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}})),w.phi=h(et,"\\phi ","&#981;"),w.phiv=w.varphi=h(et,"\\varphi ","&phi;"),w.epsilon=h(et,"\\epsilon ","&#1013;"),w.epsiv=w.varepsilon=h(et,"\\varepsilon ","&epsilon;"),w.piv=w.varpi=h(et,"\\varpi ","&piv;"),w.sigmaf=w.sigmav=w.varsigma=h(et,"\\varsigma ","&sigmaf;"),w.thetav=w.vartheta=w.thetasym=h(et,"\\vartheta ","&thetasym;"),w.upsilon=w.upsi=h(et,"\\upsilon ","&upsilon;"),w.gammad=w.Gammad=w.digamma=h(et,"\\digamma ","&#989;"),w.kappav=w.varkappa=h(et,"\\varkappa ","&#1008;"),w.rhov=w.varrho=h(et,"\\varrho ","&#1009;"),w.pi=w["π"]=h(ct,"\\pi ","&pi;"),w.lambda=h(ct,"\\lambda ","&lambda;"),w.Upsilon=w.Upsi=w.upsih=w.Upsih=h(U,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),w.Gamma=w.Delta=w.Theta=w.Lambda=w.Xi=w.Pi=w.Sigma=w.Phi=w.Psi=w.Omega=w.forall=f(W,(function(t,e){t.init=function(t){e.init.call(this,"\\"+t+" ","&"+t+";")}}));var lt=f(H,(function(t){t.init=function(t){this.latex=t},t.createLeftOf=function(t){var e=F.parse(this.latex);e.children().adopt(t.parent,t[p],t[1]),t[p]=e.ends[1],e.jQize().insertBefore(t.jQ),e.finalizeInsert(t.options,t),e.ends[1][1].siblingCreated&&e.ends[1][1].siblingCreated(t.options,p),e.ends[p][p].siblingCreated&&e.ends[p][p].siblingCreated(t.options,1),t.parent.bubble("reflow")},t.parser=function(){var t=F.parse(this.latex).children();return Q.succeed(t)}}));w["¹"]=h(lt,"^1"),w["²"]=h(lt,"^2"),w["³"]=h(lt,"^3"),w["¼"]=h(lt,"\\frac14"),w["½"]=h(lt,"\\frac12"),w["¾"]=h(lt,"\\frac34");var ut=f($,(function(t){t.init=W.prototype.init,t.contactWeld=t.siblingCreated=t.siblingDeleted=function(t,e){if(1!==e)return this.jQ[0].className=!this[p]||this[p]instanceof $?"":"mq-binary-operator",this}}));w["+"]=h(ut,"+","+"),w["–"]=w["-"]=h(ut,"-","&minus;"),w["±"]=w.pm=w.plusmn=w.plusminus=h(ut,"\\pm ","&plusmn;"),w.mp=w.mnplus=w.minusplus=h(ut,"\\mp ","&#8723;"),T["*"]=w.sdot=w.cdot=h($,"\\cdot ","&middot;","*");var ht=f($,(function(t,e){t.init=function(t,n){this.data=t,this.strict=n;var i=n?"Strict":"";e.init.call(this,t["ctrlSeq"+i],t["html"+i],t["text"+i])},t.swap=function(t){this.strict=t;var e=t?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+e],this.jQ.html(this.data["html"+e]),this.textTemplate=[this.data["text"+e]]},t.deleteTowards=function(t,n){if(t===p&&!this.strict)return this.swap(!0),void this.bubble("reflow");e.deleteTowards.apply(this,arguments)}})),dt={ctrlSeq:"\\le ",html:"&le;",text:"≤",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},ft={ctrlSeq:"\\ge ",html:"&ge;",text:"≥",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};w["<"]=w.lt=h(ht,dt,!0),w[">"]=w.gt=h(ht,ft,!0),w["≤"]=w.le=w.leq=h(ht,dt,!1),w["≥"]=w.ge=w.geq=h(ht,ft,!1);var pt=f($,(function(t,e){t.init=function(){e.init.call(this,"=","=")},t.createLeftOf=function(t){if(t[p]instanceof ht&&t[p].strict)return t[p].swap(!1),void t[p].bubble("reflow");e.createLeftOf.apply(this,arguments)}}));w["="]=pt,w["×"]=w.times=h($,"\\times ","&times;","[x]"),w["÷"]=w.div=w.divide=w.divides=h($,"\\div ","&divide;","[/]"),T["~"]=w.sim=h($,"\\sim ","~","~");var mt,gt,vt=o,yt=document.createElement("div").style;for(var xt in{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(xt in yt){gt=xt;break}gt?mt=function(t,e,n){t.css(gt,"scale("+e+","+n+")")}:"filter"in yt?(vt=function(t){t.className=t.className},mt=function(t,e,n){e/=1+(n-1)/2,t.css("fontSize",n+"em"),t.hasClass("mq-matrixed-container")||t.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var i=t.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+e+",SizingMethod='auto expand')");function r(){t.css("marginRight",(i.width()-1)*(e-1)/e+"px")}r();var s=setInterval(r);g(window).load((function(){clearTimeout(s),r()}))}):mt=function(t,e,n){t.css("fontSize",n+"em")};var bt=f(H,(function(t,e){t.init=function(t,n,i){e.init.call(this,t,"<"+n+" "+i+">&0</"+n+">")}}));w.mathrm=h(bt,"\\mathrm","span",'class="mq-roman mq-font"'),w.mathit=h(bt,"\\mathit","i",'class="mq-font"'),w.mathbf=h(bt,"\\mathbf","b",'class="mq-font"'),w.mathsf=h(bt,"\\mathsf","span",'class="mq-sans-serif mq-font"'),w.mathtt=h(bt,"\\mathtt","span",'class="mq-monospace mq-font"'),w.underline=h(bt,"\\underline","span",'class="mq-non-leaf mq-underline"'),w.overline=w.bar=h(bt,"\\overline","span",'class="mq-non-leaf mq-overline"'),w.overrightarrow=h(bt,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),w.overleftarrow=h(bt,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),w.textcolor=f(H,(function(t,e){t.setColor=function(t){this.color=t,this.htmlTemplate='<span class="mq-textcolor" style="color:'+t+'">&0</span>'},t.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},t.parser=function(){var t=this,n=Q.optWhitespace,i=Q.string,r=Q.regex;return n.then(i("{")).then(r(/^[#\w\s.,()%-]*/)).skip(i("}")).then((function(n){return t.setColor(n),e.parser.call(t)}))}})),w.class=f(H,(function(t,e){t.parser=function(){var t=this,n=Q.string,i=Q.regex;return Q.optWhitespace.then(n("{")).then(i(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then((function(n){return t.htmlTemplate='<span class="mq-class '+n+'">&0</span>',e.parser.call(t)}))}}));var wt=f(H,(function(t,e){t.ctrlSeq="_{...}^{...}",t.createLeftOf=function(t){if(t[p]||!t.options.supSubsRequireOperand)return e.createLeftOf.apply(this,arguments)},t.contactWeld=function(t){for(var e=p;e;e=e===p&&1)if(this[e]instanceof wt){for(var n="sub";n;n="sub"===n&&"sup"){var i=this[n],r=this[e][n];if(i){if(r)if(i.isEmpty())o=v(r,0,r.ends[p]);else{i.jQ.children().insAtDirEnd(-e,r.jQ);var s=i.children().disown(),o=v(r,s.ends[1],r.ends[p]);e===p?s.adopt(r,r.ends[1],0):s.adopt(r,0,r.ends[p])}else this[e].addBlock(i.disown());this.placeCursor=function(t,n){return function(i){i.insAtDirEnd(-e,t||n)}}(r,i)}}this.remove(),t&&t[p]===this&&(1===e&&o?o[p]?t.insRightOf(o[p]):t.insAtLeftEnd(o.parent):t.insRightOf(this[e]));break}this.respace()},q.p.charsThatBreakOutOfSupSub="",t.finalizeTree=function(){this.ends[p].write=function(t,e){if(t.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===e)return;var n=this.chToCmd(e);return n instanceof U?t.deleteSelection():t.clearSelection().insRightOf(this.parent),n.createLeftOf(t.show())}t[p]&&!t[1]&&!t.selection&&t.options.charsThatBreakOutOfSupSub.indexOf(e)>-1&&t.insRightOf(this.parent),X.p.write.apply(this,arguments)}},t.moveTowards=function(t,n,i){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(t,this):e.moveTowards.apply(this,arguments)},t.deleteTowards=function(t,n){if(n.options.autoSubscriptNumerals&&this.sub){var i=this.sub.ends[-t];i instanceof U?i.remove():i&&i.deleteTowards(t,n.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(p,n.insAtLeftEnd(this.sub)),this.sup&&n.insDirOf(-t,this))}else e.deleteTowards.apply(this,arguments)},t.latex=function(){function t(t,e){var n=e&&e.latex();return e?t+(1===n.length?n:"{"+(n||" ")+"}"):""}return t("_",this.sub)+t("^",this.sup)},t.respace=t.siblingCreated=t.siblingDeleted=function(t,e){1!==e&&this.jQ.toggleClass("mq-limit","\\int "===this[p].ctrlSeq)},t.addBlock=function(t){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=t,t.adopt(this,this.sub,0).downOutOf=this.sub,t.jQ=g('<span class="mq-sup"/>').append(t.jQ.children()).attr(i,t.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=t,t.adopt(this,0,this.sup).upOutOf=this.sup,t.jQ=g('<span class="mq-sub"></span>').append(t.jQ.children()).attr(i,t.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var e=0;e<2;e+=1)!function(t,e,n,i){t[e].deleteOutOf=function(r,s){if(s.insDirOf(this[r]?-r:r,this.parent),!this.isEmpty()){var o=this.ends[r];this.children().disown().withDirAdopt(r,s.parent,s[r],s[-r]).jQ.insDirOf(-r,s.jQ),s[-r]=o}t.supsub=n,delete t[e],delete t[i+"Into"],t[n][i+"OutOf"]=Tt,delete t[n].deleteOutOf,"sub"===e&&g(t.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}}(this,"sub sup".split(" ")[e],"sup sub".split(" ")[e],"down up".split(" ")[e])}}));function Tt(t){var e=this.parent,n=t;do{if(n[1])return t.insLeftOf(e);n=n.parent.parent}while(n!==e);t.insRightOf(e)}w.subscript=w._=f(wt,(function(t,e){t.supsub="sub",t.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["_"],t.finalizeTree=function(){this.downInto=this.sub=this.ends[p],this.sub.upOutOf=Tt,e.finalizeTree.call(this)}})),w.superscript=w.supscript=w["^"]=f(wt,(function(t,e){t.supsub="sup",t.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',t.textTemplate=["^"],t.finalizeTree=function(){this.upInto=this.sup=this.ends[1],this.sup.downOutOf=Tt,e.finalizeTree.call(this)}}));var _t=f(H,(function(t,e){t.init=function(t,e){var n='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+e+'</big><span class="mq-from"><span>&0</span></span></span>';U.prototype.init.call(this,t,n)},t.createLeftOf=function(t){e.createLeftOf.apply(this,arguments),t.options.sumStartsWithNEquals&&(nt("n").createLeftOf(t),pt().createLeftOf(t))},t.latex=function(){function t(t){return 1===t.length?t:"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[p].latex())+"^"+t(this.ends[1].latex())},t.parser=function(){for(var t=Q.string,e=Q.optWhitespace,n=Q.succeed,i=F.block,r=this,s=r.blocks=[X(),X()],o=0;o<s.length;o+=1)s[o].adopt(r,r.ends[1],0);return e.then(t("_").or(t("^"))).then((function(t){var e=s["_"===t?0:1];return i.then((function(t){return t.children().adopt(e,e.ends[1],0),n(r)}))})).many().result(r)},t.finalizeTree=function(){this.downInto=this.ends[p],this.upInto=this.ends[1],this.ends[p].upOutOf=this.ends[1],this.ends[1].downOutOf=this.ends[p]}}));w["∑"]=w.sum=w.summation=h(_t,"\\sum ","&sum;"),w["∏"]=w.prod=w.product=h(_t,"\\prod ","&prod;"),w.coprod=w.coproduct=h(_t,"\\coprod ","&#8720;");var Ct=w.frac=w.dfrac=w.cfrac=w.fraction=f(H,(function(t,e){t.ctrlSeq="\\frac",t.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',t.textTemplate=["(",")/(",")"],t.finalizeTree=function(){this.upInto=this.ends[1].upOutOf=this.ends[p],this.downInto=this.ends[p].downOutOf=this.ends[1]}})),Ot=w.over=T["/"]=f(Ct,(function(t,e){t.createLeftOf=function(t){if(!this.replacedFragment){for(var n=t[p];n&&!(n instanceof $||n instanceof(w.text||o)||n instanceof _t||"\\ "===n.ctrlSeq||/^[,;:]$/.test(n.ctrlSeq));)n=n[p];n instanceof _t&&n[1]instanceof wt&&(n=n[1])[1]instanceof wt&&n[1].ctrlSeq!=n.ctrlSeq&&(n=n[1]),n!==t[p]&&(this.replaces(b(n[1]||t.parent.ends[p],t[p])),t[p]=n)}e.createLeftOf.call(this,t)}})),kt=w.sqrt=w["√"]=f(H,(function(t,e){t.ctrlSeq="\\sqrt",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',t.textTemplate=["sqrt(",")"],t.parser=function(){return F.optBlock.then((function(t){return F.block.map((function(e){var n=qt();return n.blocks=[t,e],t.adopt(n,0,0),e.adopt(n,t,0),n}))})).or(e.parser.call(this))},t.reflow=function(){var t=this.ends[1].jQ;mt(t.prev(),1,t.innerHeight()/+t.css("fontSize").slice(0,-2)-.1)}})),qt=(w.vec=f(H,(function(t,e){t.ctrlSeq="\\vec",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-vector-prefix">&rarr;</span><span class="mq-vector-stem">&0</span></span>',t.textTemplate=["vec(",")"]})),w.nthroot=f(kt,(function(t,e){t.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',t.textTemplate=["sqrt[","](",")"],t.latex=function(){return"\\sqrt["+this.ends[p].latex()+"]{"+this.ends[1].latex()+"}"}})));function Et(t,e){t.jQadd=function(){e.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},t.reflow=function(){var t=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));mt(this.delimjQs,r(1+.2*(t-1),1.2),1.2*t)}}var St=f(f(H,Et),(function(e,n){e.init=function(e,i,r,s,o){n.init.call(this,"\\left"+s,t,[i,r]),this.side=e,this.sides={},this.sides[p]={ch:i,ctrlSeq:s},this.sides[1]={ch:r,ctrlSeq:o}},e.numBlocks=function(){return 1},e.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(1===this.side?" mq-ghost":"")+'">'+this.sides[p].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===p?" mq-ghost":"")+'">'+this.sides[1].ch+"</span></span>",n.html.call(this)},e.latex=function(){return"\\left"+this.sides[p].ctrlSeq+this.ends[p].latex()+"\\right"+this.sides[1].ctrlSeq},e.oppBrack=function(t,e,n){return e instanceof St&&e.side&&e.side!==-n&&("|"===this.sides[this.side].ch||e.side===-this.side)&&(!t.restrictMismatchedBrackets||Mt[this.sides[this.side].ch]===e.sides[e.side].ch||{"(":"]","[":")"}[this.sides[p].ch]===e.sides[1].ch)&&e},e.closeOpposing=function(t){t.side=0,t.sides[this.side]=this.sides[this.side],t.delimjQs.eq(this.side===p?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},e.createLeftOf=function(t){if(!this.replacedFragment)var e=t.options,i=this.oppBrack(e,t[p],p)||this.oppBrack(e,t[1],1)||this.oppBrack(e,t.parent.parent);if(i){var r=this.side=-i.side;this.closeOpposing(i),i===t.parent.parent&&t[r]&&(b(t[r],t.parent.ends[r],-r).disown().withDirAdopt(-r,i.parent,i,i[r]).jQ.insDirOf(r,i.jQ),i.bubble("reflow"))}else r=(i=this).side,i.replacedFragment?i.side=0:t[-r]&&(i.replaces(b(t[-r],t.parent.ends[-r],r)),t[-r]=0),n.createLeftOf.call(i,t);r===p?t.insAtLeftEnd(i.ends[p]):t.insRightOf(i)},e.placeCursor=o,e.unwrap=function(){this.ends[p].children().disown().adopt(this.parent,this,this[1]).jQ.insertAfter(this.jQ),this.remove()},e.deleteSide=function(t,e,n){var i=this.parent,r=this[t],s=i.ends[t];if(t===this.side)return this.unwrap(),void(r?n.insDirOf(-t,r):n.insAtDirEnd(t,i));var o=n.options,a=!this.side;if(this.side=-t,this.oppBrack(o,this.ends[p].ends[this.side],t)){this.closeOpposing(this.ends[p].ends[this.side]);var c=this.ends[p].ends[t];this.unwrap(),c.siblingCreated&&c.siblingCreated(n.options,t),r?n.insDirOf(-t,r):n.insAtDirEnd(t,i)}else{if(this.oppBrack(o,this.parent.parent,t))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(e&&a)return this.unwrap(),void(r?n.insDirOf(-t,r):n.insAtDirEnd(t,i));this.sides[t]={ch:Mt[this.sides[this.side].ch],ctrlSeq:Mt[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(t===p?0:1).addClass("mq-ghost").html(this.sides[t].ch)}r?(c=this.ends[p].ends[t],b(r,s,-t).disown().withDirAdopt(-t,this.ends[p],c,0).jQ.insAtDirEnd(t,this.ends[p].jQ.removeClass("mq-empty")),c.siblingCreated&&c.siblingCreated(n.options,t),n.insDirOf(-t,r)):e?n.insDirOf(t,this):n.insAtDirEnd(t,this.ends[p])}},e.deleteTowards=function(t,e){this.deleteSide(-t,!1,e)},e.finalizeTree=function(){this.ends[p].deleteOutOf=function(t,e){this.parent.deleteSide(t,!0,e)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===p?1:0).removeClass("mq-ghost"),this.side=0}},e.siblingCreated=function(t,e){e===-this.side&&this.finalizeTree()}})),Mt={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|"};function Lt(t,e){e=e||t;var n=Mt[t],i=Mt[e];T[t]=h(St,p,t,n,e,i),T[n]=h(St,1,t,n,e,i)}Lt("("),Lt("["),Lt("{","\\{"),w.langle=h(St,p,"&lang;","&rang;","\\langle ","\\rangle "),w.rangle=h(St,1,"&lang;","&rang;","\\langle ","\\rangle "),T["|"]=h(St,p,"|","|","|","|"),w.left=f(H,(function(t){t.parser=function(){var t=Q.regex,e=Q.string,n=(Q.succeed,Q.optWhitespace);return n.then(t(/^(?:[([|]|\\\{)/)).then((function(i){var r="\\"===i.charAt(0)?i.slice(1):i;return F.then((function(s){return e("\\right").skip(n).then(t(/^(?:[\])|]|\\\})/)).map((function(t){var e="\\"===t.charAt(0)?t.slice(1):t,n=St(0,r,e,i,t);return n.blocks=[s],s.adopt(n,0,0),n}))}))}))}})),w.right=f(H,(function(t){t.parser=function(){return Q.fail("unmatched \\right")}}));var Dt=w.binom=w.binomial=f(f(H,Et),(function(t,e){t.ctrlSeq="\\binom",t.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',t.textTemplate=["choose(",",",")"]}));w.choose=f(Dt,(function(t){t.createLeftOf=Ot.prototype.createLeftOf})),w.editable=w.MathQuillMathField=f(H,(function(t,e){t.ctrlSeq="\\MathQuillMathField",t.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',t.parser=function(){var t=this,n=Q.string,i=Q.regex,r=Q.succeed;return n("[").then(i(/^[a-z][a-z0-9]*/i)).skip(n("]")).map((function(e){t.name=e})).or(r()).then(e.parser.call(t))},t.finalizeTree=function(){var t=O(this.ends[p],this.jQ,q());t.KIND_OF_MQ="MathField",t.editable=!0,t.createTextarea(),t.editablesTextareaEvents(),t.cursor.insAtRightEnd(t.root),I(t.root)},t.registerInnerField=function(t,e){t.push(t[this.name]=e(this.ends[p].controller))},t.latex=function(){return this.ends[p].latex()},t.text=function(){return this.ends[p].text()}}));var At=w.embed=f(U,(function(t,e){t.setOptions=function(t){function e(){return""}return this.text=t.text||e,this.htmlTemplate=t.htmlString||"",this.latex=t.latex||e,this},t.parser=function(){var t=this;return string=Q.string,regex=Q.regex,succeed=Q.succeed,string("{").then(regex(/^[a-z][a-z0-9]*/i)).skip(string("}")).then((function(e){return string("[").then(regex(/^[-\w\s]*/)).skip(string("]")).or(succeed()).map((function(n){return t.setOptions(M[e](n))}))}))}})),jt=N(1);for(var Nt in jt)!function(t,e){"function"==typeof e?(D[t]=function(){return L(),e.apply(this,arguments)},D[t].prototype=e.prototype):D[t]=e}(Nt,jt[Nt])}();const D=MathQuill.getInterface(2);window.MQ=D;let A=document.createElement("template");A.innerHTML=M(),A=A.content;class j{constructor(t,e,n,i){const r=this;this.index=n,this.colorManager=i,this.colorManager.addAutoColor(),this.selected=!1;const s=A.cloneNode(!0).firstChild;this.ivcBox=s.querySelector("#ode__IVC-box"),this.createListener(s),t.appendChild(s);const o={autoOperatorNames:"sin cos",handlers:{}};s.querySelector(".remove-button").onclick=()=>{t.removeChild(s),e.removeOde(this.index)},o.handlers.edit=t=>{this.updateOde(e)};const a=D.StaticMath(s.querySelector(".ode__static"));this.nameField=a.innerFields[0],this.mathField=a.innerFields[1],this.nameField.el().classList.add("borderless-math-field"),this.mathField.el().classList.add("borderless-math-field"),this.mathField.el().classList.add("main-math-field");const l=D.StaticMath(s.querySelector(".ode__ivc-descriptor"));this.ivcField=D.MathField(s.querySelector(".ode__ivc-box")),this.ivcField.el().classList.add("borderless-math-field"),this.ivcField.latex("1"),this.nameField.config({handlers:{edit(t){l.latex(r.nameField.latex()+"(0)="),r.updateOde(e)}}}),this.mathField.config(o),this.ivcField.config({handlers:{edit(){let t=(0,c.ku)(r.ivcField.latex());e.changeOdeIvc(r.index,t)}}})}updateOde(t){let e=this.nameField.latex();"\\"===e[0]&&(e=e.substr(1)),t.updateOde(this.index,e,this.mathField.latex())}createListener(t){const e=this;t.addEventListener("mousedown",(()=>{this.selected||(this.selected=!0,t.classList.add("selected"),document.addEventListener("mousedown",(function n(i){t.contains(i.target)||(e.selected=!1,t.classList.remove("selected"),document.removeEventListener("mousedown",n))})))}))}}class N{constructor(t,e){this.colors=t||{red:"#e84e3c",green:"#27db51",blue:"#7672e0",purple:"#c84ad9"},this.order=e||Object.keys(this.colors),this.currentColors=[],this.useCount={};for(let t of this.order)this.useCount[t]=0}addAutoColor(){for(let t of this.order)if(0===this.useCount[t])return this.useCount[t]++,this.currentColors.push(t),t;const t=this.order[(this.order.indexOf(this.currentColors[this.currentColors.length-1])+1)%this.order.length];return this.useCount[t]++,this.currentColors.push(t),t}removeColor(t){this.useCount[this.currentColors[t]]--,this.currentColors.splice(t,1)}changeColor(t,e){this.useCount[this.currentColors[t]]--,this.useCount[e]++,this.currentColors[t]=e}}window.ColorPickerUi=k,window.colorManager=new N,window.solver=h,window.createMathLayer=function(t){let r=function(t){let e=0,n=[];for(;e<t.length;)if(t[e].toUpperCase()!==t[e].toLowerCase()){let i=e+1;for(;i<t.length&&t[i].toUpperCase()!==t[i].toLowerCase();)i++;n.push(t.substring(e,i)),e=i}else if("."!==t[e]&&isNaN(parseInt(t[e])))n.push(t[e]),e++;else{let i=e+1;for(;i<t.length&&("."===t[i]||!isNaN(parseInt(t[i])));)i++;n.push(parseFloat(t.substring(e,i))),e=i}return n}(t=t.replace(/\s/g,"")),s=0;var o;return r.includes("=")?(o=r,r=new e.Z("equals",[o.slice(0,o.indexOf("=")),o.slice(o.indexOf("=")+1)]),r.args[0]=a(r.args[0]),s=0,r.args[1]=a(r.args[1])):r=a(r),function(t){n(t,",","params")}(r),function(t){n(t,["+","-"],"add",{"-"(t){t[t.length-1]=new e.Z("neg",[t[t.length-1]])}})}(r),function(t){n(t,["*","/"],"multiply",{"/"(t){t[t.length-1]=new e.Z("reciprocal",[t[t.length-1]])}})}(r),function(t){n(t,"^","exponentiate")}(r),function(t){n(t,"_","subscript")}(r),function t(n){"subscript"===n.type&&"log"===n.args[0]&&(n.type="log",n.args=[n.args[1].args[0],n.args[1].args[1]]);for(let i of n.args)i instanceof e.Z&&t(i)}(r),r;function a(t,n="scope"){let r=[],o=t.indexOf("(",s),c=t.indexOf(")",s);for(;-1!==c;){if(o<c&&-1!==o){let c="scope";for(let e=s;e<o;e++){if(e===o-1&&-1!==i.indexOf(t[e])){c=t[e];break}r.push(t[e])}s=o+1,"scope"===c?r.push(a(t,n)):r.push(new e.Z(c,[a(t,n)]))}else if(-1!==c){for(let e=s;e<c;e++)r.push(t[e]);return s=c+1,new e.Z(n,r)}o=t.indexOf("(",s),c=t.indexOf(")",s)}for(let e=s;e<t.length;e++)r.push(t[e]);return new e.Z(n,r)}},window.toJs=function t(n,i={}){let s="";s+=r[n.type][0];for(let o=0;o<n.args.length;o++)0!==o&&(s+=r[n.type][1]),n.args[o]instanceof e.Z?s+=t(n.args[o],i):void 0!==i[n.args[o]]?s+=i[n.args[o]]:s+=n.args[o];return s+=r[n.type][2],s},window.isolateVariable=function(t,n){let i=function(t,n){let i=[],r=[];return function t(s){r.push(0);for(let o=0;o<s.args.length;o++)s.args[o]===n?i.push(r.slice(0)):s.args[o]instanceof e.Z&&t(s.args[o]),r[r.length-1]++;r.pop()}(t),i}(t,n);if(1===i.length){let n=i[0],r=t.args[n[0]],o=t.args[+!n[0]];for(let t=1;t<n.length;t++)({thisSide:r,otherSide:o}=s(r,o,n[t]));return new e.Z("equals",[r,o])}console.log("variable appears more than once. Cannot isolate")},window.Ode=l,window.ode1System=new u,window.rightSide=document.querySelector(".right-side"),window.graph=document.getElementById("graph"),document.querySelector(".screen-container");let P=document.getElementById("parametric-icon"),I=document.getElementById("time-icon"),R=document.querySelectorAll(".add-equation-button")[1];graph=new class{constructor(t,e="parametric"){this.canvas=t,this.ctx=t.getContext("2d"),this.mouse=new f,this.parametrics=[],this.mode=e,this.vars={},this.timesteps={},this.vectorFieldLength=40,this.minLineSpacing=64,this.vectorFieldVisible=!1,this.vectorFieldVars=null,this.colors={x:"#e84e3c",y:"#27db51",z:"#7672e0"};let n=t.parentNode.getBoundingClientRect();this.canvas.width=n.width*devicePixelRatio,this.canvas.height=n.height*devicePixelRatio,this.bounds={x:[-5,5],y:[-5*n.height/n.width,5*n.height/n.width]},this.setMatrix(),this.canvas.addEventListener("mousemove",(t=>{this.mouse.x=t.clientX,this.mouse.y=t.clientY})),this.canvas.addEventListener("wheel",(t=>{t.preventDefault();let e=.01;switch(t.deltaMode){case WheelEvent.DOM_DELTA_PIXEL:e=.01;break;case WheelEvent.DOM_DELTA_LINE:e=1/3;break;case WheelEvent.DOM_DELTA_PAGE:e=1}const n=Math.pow(2,t.deltaY*e/4);let i=this.pxToScreen(this.mouse);!g.shift&&g.control||(this.bounds.x[0]=i.x-(i.x-this.bounds.x[0])*n,this.bounds.x[1]=i.x-(i.x-this.bounds.x[1])*n),!g.control&&g.shift||(this.bounds.y[0]=i.y-(i.y-this.bounds.y[0])*n,this.bounds.y[1]=i.y-(i.y-this.bounds.y[1])*n),this.setMatrix(),this.draw()})),this.canvas.addEventListener("mousedown",(t=>{if(!t.ctrlKey){const e=this.bx,n=this.by;d.begin(t,(t=>{this.bx=e+t.relativeX,this.by=n+t.relativeY,this.setBounds(),this.draw()}))}})),this.drawGrid(),this.drawAxes()}resize(){let t=this.canvas.parentNode.getBoundingClientRect();const e=this.canvas.height/this.canvas.width,n=t.height/t.width;this.canvas.width=t.width*devicePixelRatio,this.canvas.height=t.height*devicePixelRatio;const i=(this.bounds.y[0]+this.bounds.y[1])/2;this.bounds.y[0]=(this.bounds.y[0]-i)*n/e+i,this.bounds.y[1]=(this.bounds.y[1]-i)*n/e+i,this.setMatrix()}setMatrix(){this.ax=this.canvas.width/(this.bounds.x[1]-this.bounds.x[0]),this.bx=-this.ax*this.bounds.x[0],this.ay=this.canvas.height/(this.bounds.y[0]-this.bounds.y[1]),this.by=-this.ay*this.bounds.y[1]}setBounds(){this.bounds.x[0]=-this.bx/this.ax,this.bounds.x[1]=(this.canvas.width-this.bx)/this.ax,this.bounds.y[1]=-this.by/this.ay,this.bounds.y[0]=(this.canvas.height-this.by)/this.ay}drawGrid(){let t=Math.pow(2,Math.ceil(Math.log2((this.bounds.x[1]-this.bounds.x[0])*this.minLineSpacing/this.canvas.width))),e=Math.pow(2,Math.ceil(Math.log2((this.bounds.y[1]-this.bounds.y[0])*this.minLineSpacing/this.canvas.height))),n=v(Math.log2((this.bounds.x[1]-this.bounds.x[0])*this.minLineSpacing/this.canvas.width))||1,i=v(Math.log2((this.bounds.y[1]-this.bounds.y[0])*this.minLineSpacing/this.canvas.height))||1;this.ctx.beginPath();for(let e=(Math.floor(this.bounds.x[0]/t)+.5)*t;e<=this.bounds.x[1];e+=t)this.ctx.moveTo(Math.round(this.screenToPx({x:e}).x),0),this.ctx.lineTo(Math.round(this.screenToPx({x:e}).x),this.canvas.height);this.ctx.lineWidth=2,this.ctx.strokeStyle=y("#dddde0","#fafbfd",n),this.ctx.stroke(),this.ctx.beginPath();for(let t=(Math.floor(this.bounds.y[0]/e)+.5)*e;t<=this.bounds.y[1];t+=e)this.ctx.moveTo(0,Math.round(this.screenToPx({y:t}).y)),this.ctx.lineTo(this.canvas.width,Math.round(this.screenToPx({y:t}).y));this.ctx.strokeStyle=y("#dddde0","#fafbfd",i),this.ctx.stroke(),this.ctx.beginPath();for(let e=Math.floor(this.bounds.x[0]/t)*t;e<=this.bounds.x[1];e+=t)this.ctx.moveTo(Math.round(this.screenToPx({x:e}).x),0),this.ctx.lineTo(Math.round(this.screenToPx({x:e}).x),this.canvas.height);for(let t=Math.floor(this.bounds.y[0]/e)*e;t<=this.bounds.y[1];t+=e)this.ctx.moveTo(0,Math.round(this.screenToPx({y:t}).y)),this.ctx.lineTo(this.canvas.width,Math.round(this.screenToPx({y:t}).y));this.ctx.strokeStyle="#dddde0",this.ctx.stroke()}drawNumbers(){let t,e,n=Math.pow(2,Math.ceil(Math.log2((this.bounds.x[1]-this.bounds.x[0])*this.minLineSpacing/this.canvas.width))),i=Math.pow(2,Math.ceil(Math.log2((this.bounds.y[1]-this.bounds.y[0])*this.minLineSpacing/this.canvas.height))),r=v(Math.log2((this.bounds.x[1]-this.bounds.x[0])*this.minLineSpacing/this.canvas.width))||1,s=v(Math.log2((this.bounds.y[1]-this.bounds.y[0])*this.minLineSpacing/this.canvas.height))||1,o=Math.min(this.canvas.height-16,Math.max(this.screenToPx({y:0}).y,0)+6);for(this.ctx.textAlign="center",this.ctx.font="bold 10pt Arial",this.ctx.textBaseline="top",this.ctx.fillStyle="rgba(0, 0, 0, "+(1-r)+")",e=(Math.floor(this.bounds.x[0]/n)+.5)*n;e<this.bounds.x[1];e+=n)this.ctx.fillText(+e.toFixed(4),this.screenToPx({x:e}).x,o);for(this.ctx.fillText(+e.toFixed(4),this.screenToPx({x:e}).x,o),this.ctx.fillStyle="#000000",e=Math.floor(this.bounds.x[0]/n)*n;e<=this.bounds.x[1];e+=n)0!==e&&this.ctx.fillText(+e.toFixed(4),this.screenToPx({x:e}).x,o);this.ctx.fillText(+e.toFixed(4),this.screenToPx({x:e}).x,o);let a=Math.min(this.canvas.width-6,Math.max(this.screenToPx({x:0}).x,0)-6);for(this.ctx.textAlign="right",this.ctx.textBaseline="middle",this.ctx.fillStyle="rgba(0, 0, 0, "+(1-s)+")",e=(Math.floor(this.bounds.y[0]/i)+.5)*i;e<this.bounds.y[1];e+=i)t=+e.toFixed(4)+"",this.ctx.fillText(t,Math.max(a,this.ctx.measureText(t).width+6),this.screenToPx({y:e}).y);for(this.ctx.fillText(+e.toFixed(4),a,this.screenToPx({y:e}).y),this.ctx.fillStyle="#000000",e=Math.floor(this.bounds.y[0]/i)*i;e<=this.bounds.y[1];e+=i)0!==e&&(t=+e.toFixed(4)+"",this.ctx.fillText(t,Math.max(a,this.ctx.measureText(t).width+6),this.screenToPx({y:e}).y));this.ctx.fillText(+e.toFixed(4),a,this.screenToPx({y:e}).y)}drawAxes(){this.ctx.beginPath(),this.ctx.moveTo(Math.round(this.screenToPx({x:0}).x),0),this.ctx.lineTo(Math.round(this.screenToPx({x:0}).x),this.canvas.height),this.ctx.moveTo(0,Math.round(this.screenToPx({y:0}).y)),this.ctx.lineTo(this.canvas.width,Math.round(this.screenToPx({y:0}).y)),this.ctx.strokeStyle="#000000",this.ctx.lineWidth=3,this.ctx.stroke()}screenToPx(t){return new f(this.ax*t.x+this.bx,this.ay*t.y+this.by)}pxToScreen(t){return new f((t.x-this.bx)/this.ax,(t.y-this.by)/this.ay)}drawPlot(t,e){this.ctx.beginPath(),this.ctx.moveTo(this.screenToPx({x:t[0]}).x,this.screenToPx({y:e[0]}).y);for(let n=1;n<t.length;n++)this.ctx.lineTo(this.screenToPx({x:t[n]}).x,this.screenToPx({y:e[n]}).y);this.ctx.strokeStyle="#e84e3c",this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.stroke()}drawPlots(){for(let t of this.parametrics)this.drawPlot(t.raw.x,t.raw.y)}drawGraphs(t){const e=h.RK4(t,.01,1e3,t.names);for(let n of t.names){this.ctx.beginPath(),this.ctx.moveTo(this.bx,this.ay*e[n][0]+this.by);for(let t=1;t<e[n].length;t++)this.ctx.lineTo(.01*this.ax*t+this.bx,this.ay*e[n][t]+this.by);this.ctx.strokeStyle="#ff0000",this.ctx.stroke()}}draw(){if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawGrid(),this.drawAxes(),"parametric"===this.mode){for(let t of this.parametrics)t.valid&&t.enabled&&t.draw(this,manager.parametricColorManager.colors[manager.parametricColorManager.currentColors[this.parametrics.indexOf(t)]]);this.vectorFieldVisible&&this.drawVectorField(ode1System,"x","y")}else ode1System.checkSystem()&&this.drawGraphs(ode1System);this.drawNumbers()}centerData(){if("parametric"===this.mode)this.bounds.x[0]=this.parametrics[0].lowX,this.bounds.x[1]=this.parametrics[0].highX,this.bounds.y[0]=this.parametrics[0].lowY,this.bounds.y[1]=this.parametrics[0].highY;else{this.bounds.x[0]=0,this.bounds.x[1]=0,this.bounds.y[0]=this.vars[Object.keys(this.vars)[0]][0],this.bounds.y[1]=this.bounds.y[0];for(let t in this.vars){this.bounds.x[1]=Math.max(this.bounds.x[1],this.timesteps[t]*this.vars[t].length);for(let e=1;e<this.vars[t].length;e++)this.bounds.y[0]=Math.min(this.bounds.y[0],this.vars[t][e]),this.bounds.y[1]=Math.max(this.bounds.y[1],this.vars[t][e])}}this.setMatrix(),this.draw()}square(){let t=(this.bounds.x[1]-this.bounds.x[0])/2,e=(this.bounds.y[1]+this.bounds.y[0])/2;this.bounds.y[0]=e-t*this.canvas.height/this.canvas.width,this.bounds.y[1]=e+t*this.canvas.height/this.canvas.width,this.setMatrix(),this.draw()}drawVectorField(t,e,n){let i={};for(let e of t.names)i[e]=0;const r=(t,e,n)=>{const i=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y),r=Math.atan2(e.y-t.y,e.x-t.x),s=Math.PI/2-Math.atan2(n,Math.sqrt(i+n*n));this.ctx.moveTo(e.x,e.y),this.ctx.arc(t.x,t.y,n,r+s,r-s)};let s=Math.pow(2,Math.ceil(Math.log2((this.bounds.x[1]-this.bounds.x[0])*this.minLineSpacing/this.canvas.width))),o=Math.pow(2,Math.ceil(Math.log2((this.bounds.y[1]-this.bounds.y[0])*this.minLineSpacing/this.canvas.height)));this.ctx.beginPath();for(let a=Math.floor(this.bounds.x[0]/s)*s;a<this.bounds.x[1]+s;a+=s){i[e]=a;for(let s=Math.floor(this.bounds.y[0]/o)*o;s<this.bounds.y[1]+o;s+=o){i[n]=s;let o=new f(t.functions[e](i),t.functions[n](i));o.x*=this.ax,o.y*=this.ay,o.normalize(),o.mScale(this.vectorFieldLength),r(this.screenToPx({x:a,y:s}),new f(this.ax*a+o.x+this.bx,this.ay*s+o.y+this.by),6)}}this.ctx.fillStyle="blue",this.ctx.fill()}}(graph),document.querySelector(".resize-bar").addEventListener("mousedown",(t=>{if(0===t.button){let e=parseFloat(getComputedStyle(rightSide).width);document.body.style.cursor="ew-resize",d.begin(t,(t=>{let n=Math.max(5,e-t.relativeX);window.innerWidth-n<50&&(n=window.innerWidth-50),rightSide.style.width=n+"px",graph.resize(),graph.draw()}),!1,(()=>{document.body.style.cursor="default"}))}})),window.onresize=function(){graph.resize(),graph.draw()};for(let t of document.querySelectorAll(".icon"))t.addEventListener("click",(e=>{for(let t of document.querySelectorAll(".icon"))t.classList.remove("icon-selected");t.classList.add("icon-selected")}));P.onclick=function(){graph.mode="parametric",graph.draw()},I.onclick=function(){graph.mode="time",graph.draw()},R.onclick=function(){manager.newParametric()},document.querySelector(".add-equation-button").onclick=function(){manager.newOde()},window.manager=new class{constructor(t,e,n){this.parametrics=[],this.system=new u,this.graph=n,this.parametricRack=e,this.parametricUis=[],this.odeRack=t,this.odes=[],this.odeUis=[],this.odeColorManager=new N,this.parametricColorManager=new N,this.duplicateOdes={},this.graph.parametrics=this.parametrics}addOde(t){this.system.addOde(t),this.checkAllParametrics()&&console.log("changed")}removeOde(t){this.system.removeOde(t),this.checkAllParametrics()&&console.log("changed")}checkAllParametrics(){let t,e=!1;for(let n of this.parametrics)t=n.valid,n.valid=this.system.names.includes(n.xOde)&&this.system.names.includes(n.yOde)&&this.system.checkOde(n.xOde)&&this.system.checkOde(n.yOde),t!==n.valid&&(e=!0,n.valid&&n.compute());return e}newParametric(t="",e=""){const n=new b(t,e,this.system);this.parametrics.push(n),this.parametricUis.push(new E(this.parametricRack,this,this.parametrics.length-1)),this.parametricUis[this.parametricUis.length-1].xBox.value=t,this.parametricUis[this.parametricUis.length-1].yBox.value=e,n.valid&&n.enabled&&this.graph.draw()}removeParametric(t){const e=this.parametrics[t].valid&&this.parametrics[t].enabled;this.parametricColorManager.removeColor(t),this.parametricUis.splice(t,1),this.parametrics.splice(t,1);for(let e=t;e<this.parametricUis.length;e++)this.parametricUis[e].index--;e&&this.graph.draw()}updateParametric(t,e,n,i,r,s){const o=this.parametrics[t],a=o.valid&&o.enabled;o.xOde=e,o.yOde=n,o.timestep=i||.01,o.algorithm=r,o.iterations=s,this.checkAllParametrics(),o.valid&&o.enabled&&o.compute(),(o.valid&&o.enabled||a&&(!o.valid||!o.enabled))&&this.graph.draw()}newOde(t="",e=""){this.odes.push(new l((0,c.ES)(e),t)),this.odeUis.push(new j(this.odeRack,this,this.odeUis.length,this.odeColorManager)),this.odeUis[this.odeUis.length-1].nameField.latex(t),this.odeUis[this.odeUis.length-1].mathField.latex(e),this.odes[this.odes.length-1].fun&&t&&(this.system.names.includes(t)?(this.duplicateOdes[t]=[this.system.odes[t],this.odes[this.odes.length-1]],this.system.removeOde(t)):this.duplicateOdes[t]?this.duplicateOdes[t].push(this.odes[this.odes.length-1]):(this.system.names.push(t),this.system.odes[t]=this.odes[this.odes.length-1],this.system.initialValues[t]=1),this.checkAllParametrics()&&this.graph.draw())}removeOde(t){const e=this.odes[t];this.odes.splice(t,1),this.odeUis.splice(t,1),this.odeColorManager.removeColor(t);for(let e=t;e<this.odes.length;e++)this.odeUis[e].index--;e.fun&&e.name&&(this.duplicateOdes[e.name]?(this.duplicateOdes[e.name].splice(this.duplicateOdes[e.name].indexOf(e),1),1===this.duplicateOdes[e.name].length&&(this.system.addOde(this.duplicateOdes[e.name][0],1),delete this.duplicateOdes[e.name])):this.system.names.includes(e.name)&&this.system.removeOde(e.name)),this.checkAllParametrics()&&this.graph.draw()}updateOde(t,e,n){const i=this.odes[t].name,r=this.odes[t].fun&&i;try{let i=(0,c.ES)(n);this.odes[t].set(e,i)}catch(t){console.error(t)}const s=this.odes[t].fun&&e;r&&!s?this.system.odes[i]?this.system.removeOde(i):this.duplicateOdes[i]&&(this.duplicateOdes[i].splice(this.duplicateOdes[i].indexOf(this.odes[t]),1),1===this.duplicateOdes[i].length&&(this.system.addOde(this.duplicateOdes[ode.name][0],1),delete this.duplicateOdes[ode.name])):r&&s?this.system.odes[i]?this.system.odes[e]?this.system.odes[e]!==this.odes[t]&&(this.duplicateOdes[e]=[this.odes[t],this.system.odes[e]],this.system.removeOde(i),this.system.removeOde(e)):this.system.changeOdeName(i,e):this.duplicateOdes[i]&&(this.system.addOde(this.odes[t],1),this.duplicateOdes[i].splice(this.duplicateOdes[i].indexOf(this.odes[t]),1),1===this.duplicateOdes[i].length&&(this.system.addOde(this.duplicateOdes[i][0],1),delete this.duplicateOdes[i])):!r&&s&&(this.system.odes[e]?(this.duplicateOdes[e]=[this.odes[t],this.system.odes[i]],this.system.removeOde(i)):this.system.addOde(this.odes[t],1)),this.checkAllParametrics(),this.updateParametricData(),this.graph.draw()}changeOdeIvc(t,e){this.odes[t].fun&&this.odes[t].name&&(this.system.initialValues[this.odes[t].name]=e,this.updateParametricData(),this.graph.draw())}updateParametricData(){for(let t of this.parametrics)t.valid&&t.enabled&&t.compute()}}(document.querySelector(".ode-rack"),document.querySelector(".parametric-rack"),graph),manager.system=ode1System,manager.newParametric("x","y"),manager.newOde("x"),manager.newOde("y")})()})();
//# sourceMappingURL=main.js.map